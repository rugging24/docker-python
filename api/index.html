
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A lightweight  docker library for writing integration tests in Python.">
      
      
      
        <link rel="canonical" href="https://rugging24.github.io/python-testcompose/api/">
      
      
        <link rel="prev" href="../environment_variables/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.2">
    
    
      
        <title>Developer Reference - Testcompose</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7bf56d0a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="brown" data-md-color-accent="amber">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#developer-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Testcompose" class="md-header__button md-logo" aria-label="Testcompose" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Testcompose
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Developer Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rugging24/python-testcompose" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rugging24/python-testcompose
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Testcompose" class="md-nav__button md-logo" aria-label="Testcompose" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Testcompose
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rugging24/python-testcompose" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rugging24/python-testcompose
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        QuickStart
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../environment_variables/" class="md-nav__link">
        Environment Variables
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Developer Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Developer Reference
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient" class="md-nav__link">
    BaseDockerClient
  </a>
  
    <nav class="md-nav" aria-label="BaseDockerClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.docker_client" class="md-nav__link">
    docker_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.pull_docker_image" class="md-nav__link">
    pull_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.registry_login" class="md-nav__link">
    registry_login()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.parse_config.TestConfigParser" class="md-nav__link">
    TestConfigParser
  </a>
  
    <nav class="md-nav" aria-label="TestConfigParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.parse_config.TestConfigParser.parse_config" class="md-nav__link">
    parse_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.service_config.Config" class="md-nav__link">
    Config
  </a>
  
    <nav class="md-nav" aria-label="Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.service_config.Config.ranked_config_services" class="md-nav__link">
    ranked_config_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate" class="md-nav__link">
    GenerateConfigTemplate
  </a>
  
    <nav class="md-nav" aria-label="GenerateConfigTemplate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_db_template" class="md-nav__link">
    app_broker_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_template" class="md-nav__link">
    app_broker_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_db_template" class="md-nav__link">
    app_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_template" class="md-nav__link">
    app_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_db_template" class="md-nav__link">
    broker_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_template" class="md-nav__link">
    broker_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.db_template" class="md-nav__link">
    db_template()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer" class="md-nav__link">
    BaseContainer
  </a>
  
    <nav class="md-nav" aria-label="BaseContainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.container_environment_variables" class="md-nav__link">
    container_environment_variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.entry_point" class="md-nav__link">
    entry_point
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.host_name" class="md-nav__link">
    host_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.http_waiter" class="md-nav__link">
    http_waiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.log_waiter" class="md-nav__link">
    log_waiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.network" class="md-nav__link">
    network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.ports" class="md-nav__link">
    ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.volumes" class="md-nav__link">
    volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.with_service" class="md-nav__link">
    with_service()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork" class="md-nav__link">
    ContainerNetwork
  </a>
  
    <nav class="md-nav" aria-label="ContainerNetwork">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.network" class="md-nav__link">
    network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.network_id" class="md-nav__link">
    network_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.remove_network" class="md-nav__link">
    remove_network()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.container_utils.ContainerUtils" class="md-nav__link">
    ContainerUtils
  </a>
  
    <nav class="md-nav" aria-label="ContainerUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_utils.ContainerUtils.replace_container_config_placeholders" class="md-nav__link">
    replace_container_config_placeholders()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer" class="md-nav__link">
    GenericContainer
  </a>
  
    <nav class="md-nav" aria-label="GenericContainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_attr" class="md-nav__link">
    container_attr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_label" class="md-nav__link">
    container_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_network" class="md-nav__link">
    container_network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.check_container_health" class="md-nav__link">
    check_container_health()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.exe_command" class="md-nav__link">
    exe_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_container_host_ip" class="md-nav__link">
    get_container_host_ip()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_container_id" class="md-nav__link">
    get_container_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_exposed_port" class="md-nav__link">
    get_exposed_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.reload" class="md-nav__link">
    reload()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders" class="md-nav__link">
    SupportedPlaceholders
  </a>
  
    <nav class="md-nav" aria-label="SupportedPlaceholders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOSTNAME" class="md-nav__link">
    CONTAINER_HOSTNAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOST_ADDRESS" class="md-nav__link">
    CONTAINER_HOST_ADDRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.EXTERNAL_PORT" class="md-nav__link">
    EXTERNAL_PORT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.SELF_HOST" class="md-nav__link">
    SELF_HOST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv" class="md-nav__link">
    ClientFromEnv
  </a>
  
    <nav class="md-nav" aria-label="ClientFromEnv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.assert_hostname" class="md-nav__link">
    assert_hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.max_pool_size" class="md-nav__link">
    max_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.ssl_version" class="md-nav__link">
    ssl_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.timeout" class="md-nav__link">
    timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.use_ssh_client" class="md-nav__link">
    use_ssh_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_max_pool_size" class="md-nav__link">
    validate_max_pool_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_timeout" class="md-nav__link">
    validate_timeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_version" class="md-nav__link">
    validate_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl" class="md-nav__link">
    ClientFromUrl
  </a>
  
    <nav class="md-nav" aria-label="ClientFromUrl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.credstor_env" class="md-nav__link">
    credstor_env
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.docker_host" class="md-nav__link">
    docker_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.max_pool_size" class="md-nav__link">
    max_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.timeout" class="md-nav__link">
    timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.tls" class="md-nav__link">
    tls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.use_ssh_client" class="md-nav__link">
    use_ssh_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_max_pool_size" class="md-nav__link">
    validate_max_pool_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_timeout" class="md-nav__link">
    validate_timeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_version" class="md-nav__link">
    validate_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login" class="md-nav__link">
    Login
  </a>
  
    <nav class="md-nav" aria-label="Login">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.dockercfg_path" class="md-nav__link">
    dockercfg_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.email" class="md-nav__link">
    email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.password" class="md-nav__link">
    password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.reauth" class="md-nav__link">
    reauth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.registry" class="md-nav__link">
    registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.username" class="md-nav__link">
    username
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService" class="md-nav__link">
    ContainerService
  </a>
  
    <nav class="md-nav" aria-label="ContainerService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.depends_on" class="md-nav__link">
    depends_on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.entrypoint" class="md-nav__link">
    entrypoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.exposed_ports" class="md-nav__link">
    exposed_ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.http_wait_parameters" class="md-nav__link">
    http_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.https_wait_parameters" class="md-nav__link">
    https_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.log_wait_parameters" class="md-nav__link">
    log_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.volumes" class="md-nav__link">
    volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.validate_image" class="md-nav__link">
    validate_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.validate_service_name" class="md-nav__link">
    validate_service_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerServices" class="md-nav__link">
    ContainerServices
  </a>
  
    <nav class="md-nav" aria-label="ContainerServices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerServices.services" class="md-nav__link">
    services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.RankedContainerServices" class="md-nav__link">
    RankedContainerServices
  </a>
  
    <nav class="md-nav" aria-label="RankedContainerServices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.RankedContainerServices.ranked_services" class="md-nav__link">
    ranked_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter" class="md-nav__link">
    ContainerHttpWaitParameter
  </a>
  
    <nav class="md-nav" aria-label="ContainerHttpWaitParameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.end_point" class="md-nav__link">
    end_point
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.http_port" class="md-nav__link">
    http_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.response_status_code" class="md-nav__link">
    response_status_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.startup_delay_time_ms" class="md-nav__link">
    startup_delay_time_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.use_https" class="md-nav__link">
    use_https
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_end_point" class="md-nav__link">
    validate_end_point()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_http_port" class="md-nav__link">
    validate_http_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_response_status_code" class="md-nav__link">
    validate_response_status_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_startup_delay_time_ms" class="md-nav__link">
    validate_startup_delay_time_ms()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter" class="md-nav__link">
    ContainerLogWaitParameter
  </a>
  
    <nav class="md-nav" aria-label="ContainerLogWaitParameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.log_line_regex" class="md-nav__link">
    log_line_regex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.poll_interval_ms" class="md-nav__link">
    poll_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.wait_timeout_ms" class="md-nav__link">
    wait_timeout_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.validate_log_line_regex" class="md-nav__link">
    validate_log_line_regex()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes" class="md-nav__link">
    VolumeSourceTypes
  </a>
  
    <nav class="md-nav" aria-label="VolumeSourceTypes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes.DOCKER_VOLUME_SOURCE" class="md-nav__link">
    DOCKER_VOLUME_SOURCE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes.FILESYSTEM_SOURCE" class="md-nav__link">
    FILESYSTEM_SOURCE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap" class="md-nav__link">
    ContainerVolumeMap
  </a>
  
    <nav class="md-nav" aria-label="ContainerVolumeMap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.host" class="md-nav__link">
    host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.mode" class="md-nav__link">
    mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.source" class="md-nav__link">
    source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_container" class="md-nav__link">
    validate_container()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_host" class="md-nav__link">
    validate_host()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_mode" class="md-nav__link">
    validate_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_source" class="md-nav__link">
    validate_source()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates" class="md-nav__link">
    PossibleContainerStates
  </a>
  
    <nav class="md-nav" aria-label="PossibleContainerStates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates.EXITED" class="md-nav__link">
    EXITED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates.RUNNING" class="md-nav__link">
    RUNNING
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState" class="md-nav__link">
    ContainerState
  </a>
  
    <nav class="md-nav" aria-label="ContainerState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Dead" class="md-nav__link">
    Dead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Error" class="md-nav__link">
    Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.ExitCode" class="md-nav__link">
    ExitCode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.FinishedAt" class="md-nav__link">
    FinishedAt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.OOMKilled" class="md-nav__link">
    OOMKilled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Paused" class="md-nav__link">
    Paused
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Pid" class="md-nav__link">
    Pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Restarting" class="md-nav__link">
    Restarting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Running" class="md-nav__link">
    Running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.StartedAt" class="md-nav__link">
    StartedAt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Status" class="md-nav__link">
    Status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes" class="md-nav__link">
    RunningContainerAttributes
  </a>
  
    <nav class="md-nav" aria-label="RunningContainerAttributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.Id" class="md-nav__link">
    Id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.NetworkSettings" class="md-nav__link">
    NetworkSettings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.Platform" class="md-nav__link">
    Platform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.State" class="md-nav__link">
    State
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents" class="md-nav__link">
    NetworkComponents
  </a>
  
    <nav class="md-nav" aria-label="NetworkComponents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.Aliases" class="md-nav__link">
    Aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.EndpointID" class="md-nav__link">
    EndpointID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.Gateway" class="md-nav__link">
    Gateway
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.IPAddress" class="md-nav__link">
    IPAddress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.NetworkID" class="md-nav__link">
    NetworkID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts" class="md-nav__link">
    ContainerMappedPorts
  </a>
  
    <nav class="md-nav" aria-label="ContainerMappedPorts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts.HostIp" class="md-nav__link">
    HostIp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts.HostPort" class="md-nav__link">
    HostPort
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings" class="md-nav__link">
    ContainerNetworkSettings
  </a>
  
    <nav class="md-nav" aria-label="ContainerNetworkSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings.Networks" class="md-nav__link">
    Networks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings.Ports" class="md-nav__link">
    Ports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers" class="md-nav__link">
    DefaultNeworkDrivers
  </a>
  
    <nav class="md-nav" aria-label="DefaultNeworkDrivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_BRIDGE_NETWORK" class="md-nav__link">
    DEFAULT_BRIDGE_NETWORK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_HOST_NETWORK" class="md-nav__link">
    DEFAULT_HOST_NETWORK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_NULL_NETWORK" class="md-nav__link">
    DEFAULT_NULL_NETWORK
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.waiters.endpoint_waiters.EndpointWaiters" class="md-nav__link">
    EndpointWaiters
  </a>
  
    <nav class="md-nav" aria-label="EndpointWaiters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.waiters.endpoint_waiters.EndpointWaiters.wait_for_http" class="md-nav__link">
    wait_for_http()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.waiters.log_waiters.LogWaiter" class="md-nav__link">
    LogWaiter
  </a>
  
    <nav class="md-nav" aria-label="LogWaiter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.waiters.log_waiters.LogWaiter.search_container_logs" class="md-nav__link">
    search_container_logs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers" class="md-nav__link">
    RunContainers
  </a>
  
    <nav class="md-nav" aria-label="RunContainers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.running_containers" class="md-nav__link">
    running_containers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.unique_container_label" class="md-nav__link">
    unique_container_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.run_containers" class="md-nav__link">
    run_containers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.stop_running_containers" class="md-nav__link">
    stop_running_containers()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient" class="md-nav__link">
    BaseDockerClient
  </a>
  
    <nav class="md-nav" aria-label="BaseDockerClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.docker_client" class="md-nav__link">
    docker_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.pull_docker_image" class="md-nav__link">
    pull_docker_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.client.base_docker_client.BaseDockerClient.registry_login" class="md-nav__link">
    registry_login()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.parse_config.TestConfigParser" class="md-nav__link">
    TestConfigParser
  </a>
  
    <nav class="md-nav" aria-label="TestConfigParser">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.parse_config.TestConfigParser.parse_config" class="md-nav__link">
    parse_config()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.service_config.Config" class="md-nav__link">
    Config
  </a>
  
    <nav class="md-nav" aria-label="Config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.service_config.Config.ranked_config_services" class="md-nav__link">
    ranked_config_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate" class="md-nav__link">
    GenerateConfigTemplate
  </a>
  
    <nav class="md-nav" aria-label="GenerateConfigTemplate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_db_template" class="md-nav__link">
    app_broker_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_template" class="md-nav__link">
    app_broker_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_db_template" class="md-nav__link">
    app_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.app_template" class="md-nav__link">
    app_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_db_template" class="md-nav__link">
    broker_db_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_template" class="md-nav__link">
    broker_template()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.configs.generate_template_config.GenerateConfigTemplate.db_template" class="md-nav__link">
    db_template()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer" class="md-nav__link">
    BaseContainer
  </a>
  
    <nav class="md-nav" aria-label="BaseContainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.container_environment_variables" class="md-nav__link">
    container_environment_variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.entry_point" class="md-nav__link">
    entry_point
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.host_name" class="md-nav__link">
    host_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.http_waiter" class="md-nav__link">
    http_waiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.log_waiter" class="md-nav__link">
    log_waiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.network" class="md-nav__link">
    network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.ports" class="md-nav__link">
    ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.volumes" class="md-nav__link">
    volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.base_container.BaseContainer.with_service" class="md-nav__link">
    with_service()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork" class="md-nav__link">
    ContainerNetwork
  </a>
  
    <nav class="md-nav" aria-label="ContainerNetwork">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.network" class="md-nav__link">
    network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.network_id" class="md-nav__link">
    network_id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_network.ContainerNetwork.remove_network" class="md-nav__link">
    remove_network()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.container_utils.ContainerUtils" class="md-nav__link">
    ContainerUtils
  </a>
  
    <nav class="md-nav" aria-label="ContainerUtils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.container_utils.ContainerUtils.replace_container_config_placeholders" class="md-nav__link">
    replace_container_config_placeholders()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer" class="md-nav__link">
    GenericContainer
  </a>
  
    <nav class="md-nav" aria-label="GenericContainer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_attr" class="md-nav__link">
    container_attr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_label" class="md-nav__link">
    container_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.container_network" class="md-nav__link">
    container_network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.check_container_health" class="md-nav__link">
    check_container_health()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.exe_command" class="md-nav__link">
    exe_command()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_container_host_ip" class="md-nav__link">
    get_container_host_ip()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_container_id" class="md-nav__link">
    get_container_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.get_exposed_port" class="md-nav__link">
    get_exposed_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.reload" class="md-nav__link">
    reload()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.start" class="md-nav__link">
    start()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.containers.generic_container.GenericContainer.stop" class="md-nav__link">
    stop()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders" class="md-nav__link">
    SupportedPlaceholders
  </a>
  
    <nav class="md-nav" aria-label="SupportedPlaceholders">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOSTNAME" class="md-nav__link">
    CONTAINER_HOSTNAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOST_ADDRESS" class="md-nav__link">
    CONTAINER_HOST_ADDRESS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.EXTERNAL_PORT" class="md-nav__link">
    EXTERNAL_PORT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.supported_placeholders.SupportedPlaceholders.SELF_HOST" class="md-nav__link">
    SELF_HOST
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv" class="md-nav__link">
    ClientFromEnv
  </a>
  
    <nav class="md-nav" aria-label="ClientFromEnv">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.assert_hostname" class="md-nav__link">
    assert_hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.max_pool_size" class="md-nav__link">
    max_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.ssl_version" class="md-nav__link">
    ssl_version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.timeout" class="md-nav__link">
    timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.use_ssh_client" class="md-nav__link">
    use_ssh_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_max_pool_size" class="md-nav__link">
    validate_max_pool_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_timeout" class="md-nav__link">
    validate_timeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromEnv.validate_version" class="md-nav__link">
    validate_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl" class="md-nav__link">
    ClientFromUrl
  </a>
  
    <nav class="md-nav" aria-label="ClientFromUrl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.credstor_env" class="md-nav__link">
    credstor_env
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.docker_host" class="md-nav__link">
    docker_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.max_pool_size" class="md-nav__link">
    max_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.timeout" class="md-nav__link">
    timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.tls" class="md-nav__link">
    tls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.use_ssh_client" class="md-nav__link">
    use_ssh_client
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.user_agent" class="md-nav__link">
    user_agent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.version" class="md-nav__link">
    version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_max_pool_size" class="md-nav__link">
    validate_max_pool_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_timeout" class="md-nav__link">
    validate_timeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.client_login.ClientFromUrl.validate_version" class="md-nav__link">
    validate_version()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login" class="md-nav__link">
    Login
  </a>
  
    <nav class="md-nav" aria-label="Login">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.dockercfg_path" class="md-nav__link">
    dockercfg_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.email" class="md-nav__link">
    email
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.password" class="md-nav__link">
    password
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.reauth" class="md-nav__link">
    reauth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.registry" class="md-nav__link">
    registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.client.registry_parameters.Login.username" class="md-nav__link">
    username
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService" class="md-nav__link">
    ContainerService
  </a>
  
    <nav class="md-nav" aria-label="ContainerService">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.command" class="md-nav__link">
    command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.depends_on" class="md-nav__link">
    depends_on
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.entrypoint" class="md-nav__link">
    entrypoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.environment" class="md-nav__link">
    environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.exposed_ports" class="md-nav__link">
    exposed_ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.http_wait_parameters" class="md-nav__link">
    http_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.https_wait_parameters" class="md-nav__link">
    https_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.image" class="md-nav__link">
    image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.log_wait_parameters" class="md-nav__link">
    log_wait_parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.name" class="md-nav__link">
    name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.volumes" class="md-nav__link">
    volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.validate_image" class="md-nav__link">
    validate_image()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerService.validate_service_name" class="md-nav__link">
    validate_service_name()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerServices" class="md-nav__link">
    ContainerServices
  </a>
  
    <nav class="md-nav" aria-label="ContainerServices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.ContainerServices.services" class="md-nav__link">
    services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.RankedContainerServices" class="md-nav__link">
    RankedContainerServices
  </a>
  
    <nav class="md-nav" aria-label="RankedContainerServices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_service.RankedContainerServices.ranked_services" class="md-nav__link">
    ranked_services
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter" class="md-nav__link">
    ContainerHttpWaitParameter
  </a>
  
    <nav class="md-nav" aria-label="ContainerHttpWaitParameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.end_point" class="md-nav__link">
    end_point
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.http_port" class="md-nav__link">
    http_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.response_status_code" class="md-nav__link">
    response_status_code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.startup_delay_time_ms" class="md-nav__link">
    startup_delay_time_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.use_https" class="md-nav__link">
    use_https
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_end_point" class="md-nav__link">
    validate_end_point()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_http_port" class="md-nav__link">
    validate_http_port()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_response_status_code" class="md-nav__link">
    validate_response_status_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_startup_delay_time_ms" class="md-nav__link">
    validate_startup_delay_time_ms()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter" class="md-nav__link">
    ContainerLogWaitParameter
  </a>
  
    <nav class="md-nav" aria-label="ContainerLogWaitParameter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.log_line_regex" class="md-nav__link">
    log_line_regex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.poll_interval_ms" class="md-nav__link">
    poll_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.wait_timeout_ms" class="md-nav__link">
    wait_timeout_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.validate_log_line_regex" class="md-nav__link">
    validate_log_line_regex()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes" class="md-nav__link">
    VolumeSourceTypes
  </a>
  
    <nav class="md-nav" aria-label="VolumeSourceTypes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes.DOCKER_VOLUME_SOURCE" class="md-nav__link">
    DOCKER_VOLUME_SOURCE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.VolumeSourceTypes.FILESYSTEM_SOURCE" class="md-nav__link">
    FILESYSTEM_SOURCE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap" class="md-nav__link">
    ContainerVolumeMap
  </a>
  
    <nav class="md-nav" aria-label="ContainerVolumeMap">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.container" class="md-nav__link">
    container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.host" class="md-nav__link">
    host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.mode" class="md-nav__link">
    mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.source" class="md-nav__link">
    source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_container" class="md-nav__link">
    validate_container()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_host" class="md-nav__link">
    validate_host()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_mode" class="md-nav__link">
    validate_mode()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_source" class="md-nav__link">
    validate_source()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates" class="md-nav__link">
    PossibleContainerStates
  </a>
  
    <nav class="md-nav" aria-label="PossibleContainerStates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates.EXITED" class="md-nav__link">
    EXITED
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.PossibleContainerStates.RUNNING" class="md-nav__link">
    RUNNING
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState" class="md-nav__link">
    ContainerState
  </a>
  
    <nav class="md-nav" aria-label="ContainerState">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Dead" class="md-nav__link">
    Dead
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Error" class="md-nav__link">
    Error
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.ExitCode" class="md-nav__link">
    ExitCode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.FinishedAt" class="md-nav__link">
    FinishedAt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.OOMKilled" class="md-nav__link">
    OOMKilled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Paused" class="md-nav__link">
    Paused
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Pid" class="md-nav__link">
    Pid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Restarting" class="md-nav__link">
    Restarting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Running" class="md-nav__link">
    Running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.StartedAt" class="md-nav__link">
    StartedAt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.ContainerState.Status" class="md-nav__link">
    Status
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes" class="md-nav__link">
    RunningContainerAttributes
  </a>
  
    <nav class="md-nav" aria-label="RunningContainerAttributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.Id" class="md-nav__link">
    Id
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.NetworkSettings" class="md-nav__link">
    NetworkSettings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.Platform" class="md-nav__link">
    Platform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.container.running_container_attributes.RunningContainerAttributes.State" class="md-nav__link">
    State
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents" class="md-nav__link">
    NetworkComponents
  </a>
  
    <nav class="md-nav" aria-label="NetworkComponents">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.Aliases" class="md-nav__link">
    Aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.EndpointID" class="md-nav__link">
    EndpointID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.Gateway" class="md-nav__link">
    Gateway
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.IPAddress" class="md-nav__link">
    IPAddress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.NetworkComponents.NetworkID" class="md-nav__link">
    NetworkID
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts" class="md-nav__link">
    ContainerMappedPorts
  </a>
  
    <nav class="md-nav" aria-label="ContainerMappedPorts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts.HostIp" class="md-nav__link">
    HostIp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerMappedPorts.HostPort" class="md-nav__link">
    HostPort
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings" class="md-nav__link">
    ContainerNetworkSettings
  </a>
  
    <nav class="md-nav" aria-label="ContainerNetworkSettings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings.Networks" class="md-nav__link">
    Networks
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.ContainerNetworkSettings.Ports" class="md-nav__link">
    Ports
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers" class="md-nav__link">
    DefaultNeworkDrivers
  </a>
  
    <nav class="md-nav" aria-label="DefaultNeworkDrivers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_BRIDGE_NETWORK" class="md-nav__link">
    DEFAULT_BRIDGE_NETWORK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_HOST_NETWORK" class="md-nav__link">
    DEFAULT_HOST_NETWORK
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_NULL_NETWORK" class="md-nav__link">
    DEFAULT_NULL_NETWORK
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.waiters.endpoint_waiters.EndpointWaiters" class="md-nav__link">
    EndpointWaiters
  </a>
  
    <nav class="md-nav" aria-label="EndpointWaiters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.waiters.endpoint_waiters.EndpointWaiters.wait_for_http" class="md-nav__link">
    wait_for_http()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.waiters.log_waiters.LogWaiter" class="md-nav__link">
    LogWaiter
  </a>
  
    <nav class="md-nav" aria-label="LogWaiter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.waiters.log_waiters.LogWaiter.search_container_logs" class="md-nav__link">
    search_container_logs()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers" class="md-nav__link">
    RunContainers
  </a>
  
    <nav class="md-nav" aria-label="RunContainers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.running_containers" class="md-nav__link">
    running_containers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.unique_container_label" class="md-nav__link">
    unique_container_label
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.run_containers" class="md-nav__link">
    run_containers()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testcompose.run_containers.RunContainers.stop_running_containers" class="md-nav__link">
    stop_running_containers()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="developer-reference">Developer Reference</h1>


  <div class="doc doc-object doc-class">



<h2 id="testcompose.client.base_docker_client.BaseDockerClient" class="doc doc-heading">
        <code>
testcompose.client.base_docker_client.BaseDockerClient            (<span title="abc.ABC">ABC</span>)
        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/client/base_docker_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseDockerClient</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_env_param</span><span class="p">:</span> <span class="n">ClientFromEnv</span><span class="p">,</span> <span class="n">client_url_param</span><span class="p">:</span> <span class="n">ClientFromUrl</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">BaseDockerClient</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="n">_client_url_param</span><span class="p">:</span> <span class="n">ClientFromUrl</span> <span class="o">=</span> <span class="n">ClientFromUrl</span><span class="p">()</span>
        <span class="n">_client_env_param</span><span class="p">:</span> <span class="n">ClientFromEnv</span> <span class="o">=</span> <span class="n">ClientFromEnv</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">client_env_param</span><span class="p">:</span>
            <span class="n">_client_env_param</span> <span class="o">=</span> <span class="n">client_env_param</span>

        <span class="k">if</span> <span class="n">client_url_param</span><span class="p">:</span>
            <span class="n">_client_url_param</span> <span class="o">=</span> <span class="n">client_url_param</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_docker_client</span><span class="p">(</span>
            <span class="n">client_url_param</span><span class="o">=</span><span class="n">_client_url_param</span><span class="p">,</span> <span class="n">client_env_param</span><span class="o">=</span><span class="n">_client_env_param</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">docker_client</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerClient</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span>

    <span class="nd">@docker_client</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">docker_client</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span><span class="p">:</span> <span class="n">DockerClient</span> <span class="o">=</span> <span class="n">client</span>

    <span class="k">def</span> <span class="nf">_init_docker_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">client_url_param</span><span class="p">:</span> <span class="n">ClientFromUrl</span><span class="p">,</span> <span class="n">client_env_param</span><span class="p">:</span> <span class="n">ClientFromEnv</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerClient</span><span class="p">:</span>
        <span class="n">_docker_client</span><span class="p">:</span> <span class="n">DockerClient</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client_from_env</span><span class="p">(</span><span class="n">client_env_param</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">client_url_param</span><span class="o">.</span><span class="n">docker_host</span><span class="p">:</span>
            <span class="n">_docker_client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client_from_url</span><span class="p">(</span><span class="n">client_url_param</span><span class="p">)</span>

        <span class="n">_docker_client</span><span class="o">.</span><span class="n">ping</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">_docker_client</span>

    <span class="k">def</span> <span class="nf">_docker_client_from_env</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_env_param</span><span class="p">:</span> <span class="n">ClientFromEnv</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerClient</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">docker</span><span class="o">.</span><span class="n">from_env</span><span class="p">(</span>
            <span class="n">version</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">max_pool_size</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">max_pool_size</span><span class="p">,</span>
            <span class="n">use_ssh_client</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">use_ssh_client</span><span class="p">,</span>
            <span class="n">ssl_version</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">ssl_version</span><span class="p">,</span>
            <span class="n">assert_hostname</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">assert_hostname</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="n">client_env_param</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_docker_client_from_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client_url_param</span><span class="p">:</span> <span class="n">ClientFromUrl</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DockerClient</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">DockerClient</span><span class="p">(</span>
            <span class="n">base_url</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">docker_host</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">timeout</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span>
            <span class="n">tls</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">tls</span><span class="p">,</span>
            <span class="n">user_agent</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">user_agent</span><span class="p">,</span>
            <span class="n">credstor_env</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">credstor_env</span><span class="p">,</span>
            <span class="n">use_ssh_client</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">use_ssh_client</span><span class="p">,</span>
            <span class="n">max_pool_size</span><span class="o">=</span><span class="n">client_url_param</span><span class="o">.</span><span class="n">max_pool_size</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">registry_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">login_credentials</span><span class="p">:</span> <span class="n">Login</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">login_credentials</span><span class="o">.</span><span class="n">registry</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="o">**</span><span class="n">login_credentials</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">pull_docker_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ImageNotFound</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">repository</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.client.base_docker_client.BaseDockerClient.docker_client" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.client.base_docker_client.BaseDockerClient.pull_docker_image" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">pull_docker_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/client/base_docker_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">pull_docker_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ImageNotFound</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">repository</span><span class="o">=</span><span class="n">image_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.client.base_docker_client.BaseDockerClient.registry_login" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">registry_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">login_credentials</span><span class="p">:</span> <span class="n">Login</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/client/base_docker_client.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">registry_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">login_credentials</span><span class="p">:</span> <span class="n">Login</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">login_credentials</span><span class="o">.</span><span class="n">registry</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">login</span><span class="p">(</span><span class="o">**</span><span class="n">login_credentials</span><span class="o">.</span><span class="n">dict</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.configs.parse_config.TestConfigParser" class="doc doc-heading">
        <code>
testcompose.configs.parse_config.TestConfigParser        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/parse_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">TestConfigParser</span><span class="p">:</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">parse_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerServices</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;parses and verifies test yaml config file</span>

<span class="sd">        Args:</span>
<span class="sd">            file_name (str): absolute path of the config file</span>

<span class="sd">        Raises:</span>
<span class="sd">            FileNotFoundError: when config file not present</span>
<span class="sd">            AttributeError: when config file is empty</span>

<span class="sd">        Returns:</span>
<span class="sd">            ConfigServices: A ConfigServices object with all named services in the config</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Config file </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2"> does not exist!!&quot;</span><span class="p">)</span>

        <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
            <span class="n">contents</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">contents</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Config content can not be empty&quot;</span><span class="p">)</span>

        <span class="n">services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ContainerService</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">]:</span>
            <span class="n">services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span> <span class="n">ContainerService</span><span class="p">(</span><span class="o">**</span><span class="n">service</span><span class="p">)})</span>

        <span class="n">container_services</span><span class="p">:</span> <span class="n">ContainerServices</span> <span class="o">=</span> <span class="n">ContainerServices</span><span class="p">(</span><span class="n">services</span><span class="o">=</span><span class="n">services</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">container_services</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.parse_config.TestConfigParser.parse_config" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">parse_config</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerServices</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>parses and verifies test yaml config file</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_name</code></td>
        <td><code>str</code></td>
        <td><p>absolute path of the config file</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>FileNotFoundError</code></td>
        <td><p>when config file not present</p></td>
      </tr>
      <tr>
        <td><code>AttributeError</code></td>
        <td><p>when config file is empty</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ConfigServices</code></td>
      <td><p>A ConfigServices object with all named services in the config</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/configs/parse_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">parse_config</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerServices</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;parses and verifies test yaml config file</span>

<span class="sd">    Args:</span>
<span class="sd">        file_name (str): absolute path of the config file</span>

<span class="sd">    Raises:</span>
<span class="sd">        FileNotFoundError: when config file not present</span>
<span class="sd">        AttributeError: when config file is empty</span>

<span class="sd">    Returns:</span>
<span class="sd">        ConfigServices: A ConfigServices object with all named services in the config</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Config file </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s2"> does not exist!!&quot;</span><span class="p">)</span>

    <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fh</span><span class="p">:</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">contents</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Config content can not be empty&quot;</span><span class="p">)</span>

    <span class="n">services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ContainerService</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">contents</span><span class="p">[</span><span class="s2">&quot;services&quot;</span><span class="p">]:</span>
        <span class="n">services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]:</span> <span class="n">ContainerService</span><span class="p">(</span><span class="o">**</span><span class="n">service</span><span class="p">)})</span>

    <span class="n">container_services</span><span class="p">:</span> <span class="n">ContainerServices</span> <span class="o">=</span> <span class="n">ContainerServices</span><span class="p">(</span><span class="n">services</span><span class="o">=</span><span class="n">services</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">container_services</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.configs.service_config.Config" class="doc doc-heading">
        <code>
testcompose.configs.service_config.Config        </code>



</h2>

    <div class="doc doc-contents first">

      <p>This class consumes the model created from a config file.
This is an important class that sets the precedence of how the
different containers are to be started and stopped. Usually, the
precedence are set correctly if the <code>depends_on</code> parameter of the
config is set. Cyclic dependency will fail the test before it starts.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>test_services</code></td>
        <td><code>ConfigServices</code></td>
        <td><p>model resulting from a parsed configuration file.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/configs/service_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This class consumes the model created from a config file.</span>
<span class="sd">    This is an important class that sets the precedence of how the</span>
<span class="sd">    different containers are to be started and stopped. Usually, the</span>
<span class="sd">    precedence are set correctly if the `depends_on` parameter of the</span>
<span class="sd">    config is set. Cyclic dependency will fail the test before it starts.</span>

<span class="sd">    Args:</span>
<span class="sd">        test_services (ConfigServices): model resulting from a parsed configuration file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_services</span><span class="p">:</span> <span class="n">ContainerServices</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rank_test_services</span><span class="p">(</span><span class="n">test_services</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ranked_config_services</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RankedContainerServices</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Object containing the ordered services from the config</span>

<span class="sd">        Returns:</span>
<span class="sd">            RankedServices: ranked container services</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ranked_it_services</span>

    <span class="nd">@ranked_config_services</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">ranked_config_services</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ranked_services</span><span class="p">:</span> <span class="n">RankedContainerServices</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ranked_it_services</span><span class="p">:</span> <span class="n">RankedContainerServices</span> <span class="o">=</span> <span class="n">ranked_services</span>

    <span class="k">def</span> <span class="nf">_rank_test_services</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_services</span><span class="p">:</span> <span class="n">ContainerServices</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            test_services (ConfigServices): model resulting from a parsed configuration file.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: raised if test_services is `null`</span>
<span class="sd">            AttributeError: raised if no concreate networking is provided</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_services</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Config content can not be Null&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">test_services</span><span class="o">.</span><span class="n">services</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;No service was found in the provided config&quot;</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="n">_processed_containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_container_ranks</span><span class="p">(</span>
            <span class="n">ranked_services</span><span class="o">=</span><span class="nb">dict</span><span class="p">(),</span>
            <span class="n">config_services</span><span class="o">=</span><span class="n">test_services</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">_processed_containers_reversed</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">rank</span><span class="p">:</span> <span class="n">service</span> <span class="k">for</span> <span class="n">service</span><span class="p">,</span> <span class="n">rank</span> <span class="ow">in</span> <span class="n">_processed_containers</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ranked_config_services</span> <span class="o">=</span> <span class="n">RankedContainerServices</span><span class="p">(</span><span class="n">ranked_services</span><span class="o">=</span><span class="n">_processed_containers_reversed</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_compute_container_ranks</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">ranked_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">config_services</span><span class="p">:</span> <span class="n">ContainerServices</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The main method that computes the ranking of the services specified</span>
<span class="sd">        in the config.</span>

<span class="sd">        Args:</span>
<span class="sd">            ranked_services (Dict[str, int]): dict container service name and their assigned ranks</span>
<span class="sd">            config_services (ConfigServices): config services generated from the supplied configuration file</span>

<span class="sd">        Raises:</span>
<span class="sd">            AttributeError: raised to prevent empty configuration properties to be passed to this function</span>
<span class="sd">            ValueError: rasied when cyclic dependency is detected</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict[str, int]: A list of ranked service models.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_ranked_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">ranked_services</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">config_services</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valid config for test services must be provided&quot;</span><span class="p">)</span>

        <span class="n">rank</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranked_services</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">config_services</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranked_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">return</span> <span class="n">ranked_services</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ContainerService</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">x</span><span class="p">:</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">config_services</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_ranked_services</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="n">service_name</span><span class="p">,</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">services</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">service</span><span class="o">.</span><span class="n">depends_on</span><span class="p">:</span>
                    <span class="n">_ranked_services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service_name</span><span class="p">:</span> <span class="n">rank</span><span class="p">})</span>
                    <span class="n">rank</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">depends_on</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span>
                        <span class="n">_ranked_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
                    <span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_check_cyclic_dependency</span><span class="p">(</span>
                        <span class="p">[</span><span class="n">config_services</span><span class="o">.</span><span class="n">services</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">_ranked_services</span><span class="p">],</span> <span class="n">service_name</span>
                    <span class="p">):</span>
                        <span class="n">_ranked_services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service_name</span><span class="p">:</span> <span class="n">rank</span><span class="p">})</span>
                        <span class="n">rank</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">elif</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">depends_on</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">config_services</span><span class="o">.</span><span class="n">services</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
                        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Invalid service name or dependencies detected: </span><span class="si">{</span><span class="n">service_name</span><span class="si">}</span><span class="s2"> &lt;=&gt; </span><span class="si">{</span><span class="nb">set</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">depends_on</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_compute_container_ranks</span><span class="p">(</span>
                <span class="n">ranked_services</span><span class="o">=</span><span class="n">_ranked_services</span><span class="p">,</span> <span class="n">config_services</span><span class="o">=</span><span class="n">config_services</span>
            <span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_check_cyclic_dependency</span><span class="p">(</span>
        <span class="n">processed_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ContainerService</span><span class="p">],</span> <span class="n">dependent_service_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">service</span> <span class="ow">in</span> <span class="n">processed_services</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">set</span><span class="p">([</span><span class="n">dependent_service_name</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">depends_on</span><span class="p">):</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.configs.service_config.Config.ranked_config_services" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">ranked_config_services</span><span class="p">:</span> <span class="n">RankedContainerServices</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Object containing the ordered services from the config</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RankedServices</code></td>
      <td><p>ranked container services</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.configs.generate_template_config.GenerateConfigTemplate" class="doc doc-heading">
        <code>
testcompose.configs.generate_template_config.GenerateConfigTemplate        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">GenerateConfigTemplate</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">_remove_keys</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">keys</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">template_dict</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
        <span class="n">_template</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">template_dict</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
            <span class="n">_template</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_template</span>

    <span class="k">def</span> <span class="nf">_app_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]:</span>
        <span class="n">_app</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;http_wait_parameters&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
        <span class="n">_app</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;app&quot;</span>
        <span class="n">_app</span><span class="p">[</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;DB_URL&quot;</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{db.db_user}</span><span class="s2">:$</span><span class="si">{db.db_password}</span><span class="s2">@$</span><span class="si">{db.container_hostname}</span><span class="s2">:5432/$</span><span class="si">{db.db_name}</span><span class="s2">&quot;</span>
        <span class="p">}</span>
        <span class="n">_app</span><span class="p">[</span><span class="s2">&quot;depends_on&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;db&quot;</span><span class="p">]</span>
        <span class="n">_db</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;http_wait_parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;depends_on&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
        <span class="n">_db</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;db&quot;</span>
        <span class="n">_db</span><span class="p">[</span><span class="s2">&quot;environment&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;DB_USER&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;DB_PASSWORD&quot;</span><span class="p">:</span> <span class="s2">&quot;very-secret&quot;</span><span class="p">,</span> <span class="s2">&quot;DB_NAME&quot;</span><span class="p">:</span> <span class="s2">&quot;some_db_name&quot;</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_app</span><span class="p">,</span> <span class="n">_db</span><span class="p">]}</span>

    <span class="k">def</span> <span class="nf">app_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">_template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;depends_on&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
        <span class="n">_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;app&#39;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_template</span><span class="p">]}</span>

    <span class="k">def</span> <span class="nf">db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">_template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;http_wait_parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;depends_on&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
        <span class="n">_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;db&#39;</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_template</span><span class="p">]}</span>

    <span class="k">def</span> <span class="nf">broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">simple_broker</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">app_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_db_template</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">app_broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_db_template</span><span class="p">()[</span><span class="s1">&#39;services&#39;</span><span class="p">]:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;app&#39;</span><span class="p">:</span>
                <span class="n">app</span><span class="p">[</span><span class="s2">&quot;depends_on&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;broker&quot;</span><span class="p">)</span>
            <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

        <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
        <span class="n">_services</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">])</span>
        <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
        <span class="k">return</span> <span class="n">_broker_template</span>

    <span class="k">def</span> <span class="nf">app_broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">_app_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_app_or_db</span><span class="p">()</span>
        <span class="n">_app_template</span><span class="p">[</span><span class="s1">&#39;depends_on&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;broker&#39;</span><span class="p">]</span>
        <span class="n">_app_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;app&#39;</span>
        <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
        <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span>
        <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_app_template</span><span class="p">)</span>
        <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
        <span class="k">return</span> <span class="n">_broker_template</span>

    <span class="k">def</span> <span class="nf">broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">_db_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_app_or_db</span><span class="p">()</span>
        <span class="n">_db_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;db&#39;</span>
        <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
        <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span>
        <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_db_template</span><span class="p">)</span>
        <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
        <span class="k">return</span> <span class="n">_broker_template</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_db_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">app_broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">app_broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_db_template</span><span class="p">()[</span><span class="s1">&#39;services&#39;</span><span class="p">]:</span>
        <span class="n">app</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;app&#39;</span><span class="p">:</span>
            <span class="n">app</span><span class="p">[</span><span class="s2">&quot;depends_on&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;broker&quot;</span><span class="p">)</span>
        <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>

    <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
    <span class="n">_services</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">])</span>
    <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
    <span class="k">return</span> <span class="n">_broker_template</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.app_broker_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">app_broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">app_broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">_app_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_app_or_db</span><span class="p">()</span>
    <span class="n">_app_template</span><span class="p">[</span><span class="s1">&#39;depends_on&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;broker&#39;</span><span class="p">]</span>
    <span class="n">_app_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;app&#39;</span>
    <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
    <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span>
    <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_app_template</span><span class="p">)</span>
    <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
    <span class="k">return</span> <span class="n">_broker_template</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.app_db_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">app_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">app_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_app_db_template</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.app_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">app_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">app_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">_template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;depends_on&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
    <span class="n">_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;app&#39;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_template</span><span class="p">]}</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_db_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">broker_db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">_db_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_app_or_db</span><span class="p">()</span>
    <span class="n">_db_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;db&#39;</span>
    <span class="n">_broker_template</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">simple_broker</span><span class="p">()</span>
    <span class="n">_services</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span>
    <span class="n">_services</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">_db_template</span><span class="p">)</span>
    <span class="n">_broker_template</span><span class="p">[</span><span class="s1">&#39;services&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_services</span>
    <span class="k">return</span> <span class="n">_broker_template</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.broker_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">broker_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">simple_broker</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.configs.generate_template_config.GenerateConfigTemplate.db_template" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/configs/generate_template_config.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">db_template</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="n">_template</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_keys</span><span class="p">([</span><span class="s2">&quot;http_wait_parameters&quot;</span><span class="p">,</span> <span class="s2">&quot;depends_on&quot;</span><span class="p">],</span> <span class="n">simple_app_or_db</span><span class="p">())</span>
    <span class="n">_template</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;db&#39;</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;services&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">_template</span><span class="p">]}</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.containers.base_container.BaseContainer" class="doc doc-heading">
        <code>
testcompose.containers.base_container.BaseContainer        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/base_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">BaseContainer</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_image_pull_policy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;ALWAYS_PULL&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">image</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_image</span>

    <span class="nd">@image</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;A valid Image entity must be provided&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_image</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_command</span>

    <span class="nd">@command</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_command</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">command</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">entry_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entry_point</span>

    <span class="nd">@entry_point</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">entry_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">entry_point</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_entry_point</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">entry_point</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">host_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_host_name</span>

    <span class="nd">@host_name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">host_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_host_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">host_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_network</span>

    <span class="nd">@network</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_network</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">network</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">http_waiter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_http_waiter</span>

    <span class="nd">@http_waiter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">http_waiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">http_waiter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_http_waiter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span> <span class="o">=</span> <span class="n">http_waiter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">log_waiter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerLogWaitParameter</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_log_waiter</span>

    <span class="nd">@log_waiter</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">log_waiter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">log_waiter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_waiter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span> <span class="o">=</span> <span class="n">log_waiter</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ports</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ports</span>

    <span class="nd">@ports</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exposed_ports</span><span class="p">(</span><span class="n">ports</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_environment_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_environment_variables</span>

    <span class="nd">@container_environment_variables</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">container_environment_variables</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_environment_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_volumes</span>

    <span class="nd">@volumes</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">volumes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">volumes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ContainerVolumeMap</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_volumes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_volumes</span><span class="p">(</span><span class="n">volumes</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">with_service</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">ContainerService</span><span class="p">,</span>
        <span class="n">processed_containers_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">],</span>
        <span class="n">network</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;BaseContainer&#39;</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The initialization method that converts a config</span>
<span class="sd">        service into a Generic Container. It leverages other</span>
<span class="sd">        internal _with methods to assign the complete container</span>
<span class="sd">        properties.</span>

<span class="sd">        Args:</span>
<span class="sd">            service (Service): a config service</span>
<span class="sd">            processed_containers_services (Dict[str, Any]): a dict of a service that</span>
<span class="sd">                had already been initiated and the container is running.</span>
<span class="sd">            network (str): the test network name, to attach all containers to.</span>

<span class="sd">        Returns:</span>
<span class="sd">            BaseServiceContainer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">image</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">command</span>
        <span class="p">(</span>
            <span class="n">substituted_env_variables</span><span class="p">,</span>
            <span class="n">modified_exposed_ports</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">replace_container_config_placeholders</span><span class="p">(</span>
            <span class="n">service_env_variables</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
            <span class="n">running_containers</span><span class="o">=</span><span class="n">processed_containers_services</span><span class="p">,</span>
            <span class="n">service_name</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">exposed_ports</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">exposed_ports</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container_environment_variables</span> <span class="o">=</span> <span class="n">substituted_env_variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ports</span> <span class="o">=</span> <span class="n">modified_exposed_ports</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">http_wait_parameters</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">volumes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entry_point</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">entrypoint</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_waiter</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">host_name</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">network</span> <span class="o">=</span> <span class="n">network</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">_exposed_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ports</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;List of exposed port to be assigned random port</span>
<span class="sd">        numbers on the host. Random ports are exposed to the</span>
<span class="sd">        host. A fixed port can be assigned on the host by providing</span>
<span class="sd">        the port in the format **[host_port:container_port]**</span>

<span class="sd">        Args:</span>
<span class="sd">            ports (Optional[List[str]]): list of container exposed ports</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ports</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
                <span class="n">_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_exposed_ports</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;(\s)&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">_port</span> <span class="ow">in</span> <span class="n">_ports</span><span class="p">:</span>
                    <span class="n">_split_port</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">_port</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_split_port</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="n">exposed_ports</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">_split_port</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">_split_port</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">exposed_ports</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">_port</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">exposed_ports</span>

    <span class="k">def</span> <span class="nf">_generate_exposed_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="n">matches</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\-&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
        <span class="n">unprocessed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">unprocessed_ports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">port</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">start</span><span class="p">,</span> <span class="n">end</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">port</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">end</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Start exposed port </span><span class="si">{</span><span class="n">start</span><span class="si">}</span><span class="s2"> must be less than end exposed port </span><span class="si">{</span><span class="n">end</span><span class="si">}</span><span class="s2"> for port ranges!&quot;</span>
                <span class="p">)</span>
            <span class="n">unprocessed_ports</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">end</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Allowed exposed port format is host:container or port1 - port2&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">unprocessed_ports</span>

    <span class="k">def</span> <span class="nf">_container_volumes</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">volumes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">ContainerVolumeMap</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A list of volume mappings to be mounted in the container.</span>

<span class="sd">            VolumeMapping:</span>
<span class="sd">                host: host volume path or a docker volume name</span>
<span class="sd">                container: path to mount the host volume in the container</span>
<span class="sd">                mode: volume mode [ro|rw]</span>
<span class="sd">                source: source of the volume [filesystem|dockervolume]</span>
<span class="sd">                        filesystem: a file or directory to be mounted</span>
<span class="sd">                        dockervolume: a docker volume (existing or to be created)</span>

<span class="sd">        Args:</span>
<span class="sd">            volumes (Optional[List[VolumeMapping]]): Optional list of volumes to mount on the container</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mapped_volumes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">volumes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">vol</span> <span class="ow">in</span> <span class="n">volumes</span><span class="p">:</span>
                <span class="n">host_bind</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="k">if</span> <span class="n">vol</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="n">VolumeSourceTypes</span><span class="o">.</span><span class="n">DOCKER_VOLUME_SOURCE</span><span class="p">:</span>
                    <span class="n">host_bind</span> <span class="o">=</span> <span class="n">vol</span><span class="o">.</span><span class="n">host</span>
                <span class="k">elif</span> <span class="n">vol</span><span class="o">.</span><span class="n">source</span> <span class="o">==</span> <span class="n">VolumeSourceTypes</span><span class="o">.</span><span class="n">FILESYSTEM_SOURCE</span><span class="p">:</span>
                    <span class="n">host_bind</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">vol</span><span class="o">.</span><span class="n">host</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">())</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">host_bind</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Volume source can only be one of local|docker&quot;</span><span class="p">)</span>
                <span class="n">mapped_volumes</span><span class="p">[</span><span class="n">host_bind</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;bind&quot;</span><span class="p">:</span> <span class="n">vol</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="n">vol</span><span class="o">.</span><span class="n">mode</span><span class="p">}</span>
        <span class="k">return</span> <span class="n">mapped_volumes</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.command" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">command</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.container_environment_variables" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container_environment_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.entry_point" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">entry_point</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.host_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">host_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.http_waiter" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">http_waiter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.image" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">image</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.log_waiter" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">log_waiter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.network" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">network</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.ports" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.base_container.BaseContainer.volumes" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">volumes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.base_container.BaseContainer.start" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/base_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.base_container.BaseContainer.stop" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/base_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@abstractmethod</span>
<span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.base_container.BaseContainer.with_service" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">with_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">:</span> <span class="n">ContainerService</span><span class="p">,</span> <span class="n">processed_containers_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">testcompose</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">running_container</span><span class="o">.</span><span class="n">RunningContainer</span><span class="p">],</span> <span class="n">network</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseContainer</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>The initialization method that converts a config
service into a Generic Container. It leverages other
internal _with methods to assign the complete container
properties.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service</code></td>
        <td><code>Service</code></td>
        <td><p>a config service</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>processed_containers_services</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>a dict of a service that
had already been initiated and the container is running.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>network</code></td>
        <td><code>str</code></td>
        <td><p>the test network name, to attach all containers to.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>BaseContainer</code></td>
      <td><p>BaseServiceContainer</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/base_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">with_service</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">service</span><span class="p">:</span> <span class="n">ContainerService</span><span class="p">,</span>
    <span class="n">processed_containers_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">],</span>
    <span class="n">network</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;BaseContainer&#39;</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The initialization method that converts a config</span>
<span class="sd">    service into a Generic Container. It leverages other</span>
<span class="sd">    internal _with methods to assign the complete container</span>
<span class="sd">    properties.</span>

<span class="sd">    Args:</span>
<span class="sd">        service (Service): a config service</span>
<span class="sd">        processed_containers_services (Dict[str, Any]): a dict of a service that</span>
<span class="sd">            had already been initiated and the container is running.</span>
<span class="sd">        network (str): the test network name, to attach all containers to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        BaseServiceContainer</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">image</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">command</span>
    <span class="p">(</span>
        <span class="n">substituted_env_variables</span><span class="p">,</span>
        <span class="n">modified_exposed_ports</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">replace_container_config_placeholders</span><span class="p">(</span>
        <span class="n">service_env_variables</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">environment</span><span class="p">,</span>
        <span class="n">running_containers</span><span class="o">=</span><span class="n">processed_containers_services</span><span class="p">,</span>
        <span class="n">service_name</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">exposed_ports</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">exposed_ports</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">container_environment_variables</span> <span class="o">=</span> <span class="n">substituted_env_variables</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ports</span> <span class="o">=</span> <span class="n">modified_exposed_ports</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">http_wait_parameters</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">volumes</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">volumes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">entry_point</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">entrypoint</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">log_waiter</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host_name</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">name</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">network</span> <span class="o">=</span> <span class="n">network</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.containers.container_network.ContainerNetwork" class="doc doc-heading">
        <code>
testcompose.containers.container_network.ContainerNetwork        </code>



</h2>

    <div class="doc doc-contents first">

      <p>Network management for running container.This class ensures
all containers in the same test belong to the same network.
Contians utility to create and cleanup network.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>docker_client</code></td>
        <td><code>DockerClient</code></td>
        <td><p>Docker client</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>network_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of test network</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/container_network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerNetwork</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Network management for running container.This class ensures</span>
<span class="sd">    all containers in the same test belong to the same network.</span>
<span class="sd">    Contians utility to create and cleanup network.</span>

<span class="sd">    Args:</span>
<span class="sd">        docker_client (DockerClient): Docker client</span>
<span class="sd">        network_name (str): Name of test network</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">network_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span><span class="p">:</span> <span class="n">DockerClient</span> <span class="o">=</span> <span class="n">docker_client</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_assign_group_network</span><span class="p">(</span><span class="n">network_name</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Network</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Network Object</span>

<span class="sd">        Returns:</span>
<span class="sd">            docker.models.networks.Network: container network object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_network</span>

    <span class="nd">@network</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">:</span> <span class="n">Network</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_network</span><span class="p">:</span> <span class="n">Network</span> <span class="o">=</span> <span class="n">network</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">network_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">short_id</span>

    <span class="k">def</span> <span class="nf">remove_network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;bridge&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Test network could not be removed. Still dangling ... </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_assign_group_network</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">network_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">labels</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(),</span>
        <span class="n">driver</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DefaultNeworkDrivers</span><span class="o">.</span><span class="n">DEFAULT_BRIDGE_NETWORK</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">network</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="n">network_name</span><span class="p">]))[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">network</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_docker_client</span><span class="o">.</span><span class="n">networks</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">network_name</span><span class="p">,</span>
                <span class="n">driver</span><span class="o">=</span><span class="n">driver</span><span class="p">,</span>
                <span class="n">check_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">internal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">labels</span><span class="o">=</span><span class="n">labels</span> <span class="ow">or</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">enable_ipv6</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">attachable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">scope</span><span class="o">=</span><span class="s1">&#39;local&#39;</span><span class="p">,</span>
            <span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.container_network.ContainerNetwork.name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.container_network.ContainerNetwork.network" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">network</span><span class="p">:</span> <span class="n">Network</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Network Object</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>docker.models.networks.Network</code></td>
      <td><p>container network object</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.container_network.ContainerNetwork.network_id" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">network_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.container_network.ContainerNetwork.remove_network" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">remove_network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/container_network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">remove_network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;bridge&#39;</span><span class="p">,</span> <span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="s1">&#39;host&#39;</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Test network could not be removed. Still dangling ... </span><span class="si">{</span><span class="n">exc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.containers.container_utils.ContainerUtils" class="doc doc-heading">
        <code>
testcompose.containers.container_utils.ContainerUtils        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/container_utils.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerUtils</span><span class="p">:</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">replace_container_config_placeholders</span><span class="p">(</span>
        <span class="n">service_env_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
        <span class="n">running_containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">],</span>
        <span class="n">service_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Utility method to replace placeholders in the service containers.</span>
<span class="sd">        Placeholders are usually of the form *${container_name.containerenv_variable}*.</span>

<span class="sd">        Args:</span>
<span class="sd">            service_env_variables (Dict[str, Any]): Dict of config environment variables</span>
<span class="sd">            running_containers Dict[str, RunningContainer]: Running container object</span>
<span class="sd">            service_name (str): service name as specified in the config</span>
<span class="sd">            exposed_ports (List[str]): container exposed ports</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: when a placeholder variable is not of the form service_name.variable_name</span>
<span class="sd">            AttributeError: When a service name could not be found in the list of services obtained from the</span>
<span class="sd">                            provided config file.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[Dict[str, Any], List[str]]: A tuple of `env_config` and `exposed_ports`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">$</span><span class="se">\\</span><span class="s2">{([^}]*)}&quot;</span>
        <span class="n">substituted_env_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">service_env_variables</span><span class="p">)</span>
        <span class="n">modified_exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">exposed_ports</span><span class="p">)</span>
        <span class="n">cmpl</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span><span class="o">.</span><span class="n">findall</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">service_env_variables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="n">replaced_variable</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">v</span>
                <span class="k">for</span> <span class="n">occurence</span> <span class="ow">in</span> <span class="n">cmpl</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">occurence</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span>
                    <span class="n">container_name</span><span class="p">,</span> <span class="n">variable_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">occurence</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                    <span class="n">value</span><span class="p">,</span> <span class="n">_exposed_ports</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">_external_ports_variables</span><span class="p">(</span>
                        <span class="n">running_containers</span><span class="p">,</span>
                        <span class="n">service_name</span><span class="p">,</span>
                        <span class="n">container_name</span><span class="p">,</span>
                        <span class="n">variable_name</span><span class="p">,</span>
                        <span class="n">modified_exposed_ports</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">_exposed_ports</span><span class="p">:</span>
                        <span class="n">modified_exposed_ports</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">_exposed_ports</span><span class="p">)</span>
                    <span class="n">replaced_variable</span> <span class="o">=</span> <span class="n">replaced_variable</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$</span><span class="se">{{</span><span class="si">{</span><span class="n">occurence</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
                <span class="n">substituted_env_variables</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">replaced_variable</span>
        <span class="k">return</span> <span class="n">substituted_env_variables</span><span class="p">,</span> <span class="n">modified_exposed_ports</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_free_host_port</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a free random port number from the container host</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: port number</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_socket</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
        <span class="n">_socket</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEPORT</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">_socket</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">_socket</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">port</span> <span class="o">=</span> <span class="n">_socket</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()</span>
        <span class="n">_socket</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">port</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_external_ports_variables</span><span class="p">(</span>
        <span class="n">running_containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">],</span>
        <span class="n">service_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">variable_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(),</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">_exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">container_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">SELF_HOST</span> <span class="ow">or</span> <span class="n">variable_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">CONTAINER_HOSTNAME</span><span class="p">,</span>
            <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">EXTERNAL_PORT</span><span class="p">,</span>
            <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">CONTAINER_HOST_ADDRESS</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="n">container_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">SELF_HOST</span>
                <span class="ow">and</span> <span class="n">variable_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">CONTAINER_HOSTNAME</span>
            <span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">service_name</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="n">container_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">!=</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">SELF_HOST</span>
                <span class="ow">and</span> <span class="n">variable_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">CONTAINER_HOSTNAME</span>
            <span class="p">):</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">container_name</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">variable_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">EXTERNAL_PORT</span><span class="p">):</span>
                    <span class="n">value</span><span class="p">,</span> <span class="n">_exposed_ports</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">_external_port_variables</span><span class="p">(</span>
                        <span class="n">variable_name</span><span class="p">,</span> <span class="n">exposed_ports</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">variable_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">CONTAINER_HOST_ADDRESS</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">running_containers</span><span class="p">[</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">]</span><span class="o">.</span><span class="n">generic_container</span><span class="o">.</span><span class="n">container_environment_variables</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">variable_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">value</span><span class="p">,</span> <span class="n">_exposed_ports</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_external_port_variables</span><span class="p">(</span><span class="n">variable_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
        <span class="n">_exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">exposed_ports</span><span class="p">)</span>
        <span class="n">container_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">SupportedPlaceholders</span><span class="o">.</span><span class="n">EXTERNAL_PORT</span> <span class="o">+</span> <span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">variable_name</span><span class="p">)</span>
        <span class="n">host_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">_get_free_host_port</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">container_port</span> <span class="ow">and</span> <span class="n">container_port</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exposed_ports</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;self.hostport_</span><span class="si">{</span><span class="n">container_port</span><span class="si">}</span><span class="s2"> must be a valid supplied exposed_ports value!&quot;</span>
            <span class="p">)</span>
        <span class="n">_exposed_ports</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">container_port</span><span class="p">)</span>
        <span class="n">_exposed_ports</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">host_port</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">container_port</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">host_port</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">value</span><span class="p">,</span> <span class="n">_exposed_ports</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.container_utils.ContainerUtils.replace_container_config_placeholders" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">replace_container_config_placeholders</span><span class="p">(</span><span class="n">service_env_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">running_containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">testcompose</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">running_container</span><span class="o">.</span><span class="n">RunningContainer</span><span class="p">],</span> <span class="n">service_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Utility method to replace placeholders in the service containers.
Placeholders are usually of the form <em>${container_name.containerenv_variable}</em>.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>service_env_variables</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Dict of config environment variables</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>running_containers</code></td>
        <td><code>Dict[str, RunningContainer]</code></td>
        <td><p>Running container object</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>service_name</code></td>
        <td><code>str</code></td>
        <td><p>service name as specified in the config</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>exposed_ports</code></td>
        <td><code>List[str]</code></td>
        <td><p>container exposed ports</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>when a placeholder variable is not of the form service_name.variable_name</p></td>
      </tr>
      <tr>
        <td><code>AttributeError</code></td>
        <td><p>When a service name could not be found in the list of services obtained from the
            provided config file.</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[Dict[str, Any], List[str]]</code></td>
      <td><p>A tuple of <code>env_config</code> and <code>exposed_ports</code></p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/container_utils.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">replace_container_config_placeholders</span><span class="p">(</span>
    <span class="n">service_env_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="n">running_containers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">],</span>
    <span class="n">service_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Utility method to replace placeholders in the service containers.</span>
<span class="sd">    Placeholders are usually of the form *${container_name.containerenv_variable}*.</span>

<span class="sd">    Args:</span>
<span class="sd">        service_env_variables (Dict[str, Any]): Dict of config environment variables</span>
<span class="sd">        running_containers Dict[str, RunningContainer]: Running container object</span>
<span class="sd">        service_name (str): service name as specified in the config</span>
<span class="sd">        exposed_ports (List[str]): container exposed ports</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: when a placeholder variable is not of the form service_name.variable_name</span>
<span class="sd">        AttributeError: When a service name could not be found in the list of services obtained from the</span>
<span class="sd">                        provided config file.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[Dict[str, Any], List[str]]: A tuple of `env_config` and `exposed_ports`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">$</span><span class="se">\\</span><span class="s2">{([^}]*)}&quot;</span>
    <span class="n">substituted_env_variables</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">service_env_variables</span><span class="p">)</span>
    <span class="n">modified_exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">exposed_ports</span><span class="p">)</span>
    <span class="n">cmpl</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">pattern</span><span class="o">=</span><span class="n">pattern</span><span class="p">)</span><span class="o">.</span><span class="n">findall</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">service_env_variables</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">replaced_variable</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">v</span>
            <span class="k">for</span> <span class="n">occurence</span> <span class="ow">in</span> <span class="n">cmpl</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">occurence</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span>
                <span class="n">container_name</span><span class="p">,</span> <span class="n">variable_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">occurence</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="n">value</span><span class="p">,</span> <span class="n">_exposed_ports</span> <span class="o">=</span> <span class="n">ContainerUtils</span><span class="o">.</span><span class="n">_external_ports_variables</span><span class="p">(</span>
                    <span class="n">running_containers</span><span class="p">,</span>
                    <span class="n">service_name</span><span class="p">,</span>
                    <span class="n">container_name</span><span class="p">,</span>
                    <span class="n">variable_name</span><span class="p">,</span>
                    <span class="n">modified_exposed_ports</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">_exposed_ports</span><span class="p">:</span>
                    <span class="n">modified_exposed_ports</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">_exposed_ports</span><span class="p">)</span>
                <span class="n">replaced_variable</span> <span class="o">=</span> <span class="n">replaced_variable</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;$</span><span class="se">{{</span><span class="si">{</span><span class="n">occurence</span><span class="si">}</span><span class="se">}}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
            <span class="n">substituted_env_variables</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">replaced_variable</span>
    <span class="k">return</span> <span class="n">substituted_env_variables</span><span class="p">,</span> <span class="n">modified_exposed_ports</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.containers.generic_container.GenericContainer" class="doc doc-heading">
        <code>
testcompose.containers.generic_container.GenericContainer            (<a class="autorefs autorefs-internal" title="testcompose.containers.base_container.BaseContainer" href="#testcompose.containers.base_container.BaseContainer">BaseContainer</a>)
        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">GenericContainer</span><span class="p">(</span><span class="n">BaseContainer</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_label</span>

    <span class="nd">@container_label</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">container_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_label</span> <span class="o">=</span> <span class="n">label</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_network</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ContainerNetwork</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_network</span>

    <span class="nd">@container_network</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">container_network</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">:</span> <span class="n">ContainerNetwork</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_network</span><span class="p">:</span> <span class="n">ContainerNetwork</span> <span class="o">=</span> <span class="n">network</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container</span>

    <span class="nd">@container</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">Container</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container</span><span class="p">:</span> <span class="n">Container</span> <span class="o">=</span> <span class="n">container</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">container_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainerAttributes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Running container attributes</span>

<span class="sd">        Returns:</span>
<span class="sd">            RunningContainerAttributes: Container attribute object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_container_attr</span>

    <span class="nd">@container_attr</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">container_attr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">atrr</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Running container attributes. Execute reload() to refresh this</span>
<span class="sd">        property.</span>

<span class="sd">        Args:</span>
<span class="sd">            atrr (RunningContainerAttributes): container attributes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_container_attr</span><span class="p">:</span> <span class="n">RunningContainerAttributes</span> <span class="o">=</span> <span class="n">RunningContainerAttributes</span><span class="p">(</span><span class="o">**</span><span class="n">atrr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a container&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">ping</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Docker Client not Running. Please check your docker settings and try again&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
            <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
            <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">,</span>
            <span class="n">detach</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">environment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">container_environment_variables</span><span class="p">,</span>
            <span class="n">ports</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ports</span><span class="p">,</span>
            <span class="n">volumes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point</span><span class="p">,</span>
            <span class="n">auto_remove</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">remove</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">network</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
            <span class="n">hostname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_name</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">container_label</span><span class="p">],</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">check_container_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">start_time</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">timeout</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Waiting for containe:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> status to </span><span class="se">\</span>
<span class="s2">                change from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> status changed to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container is in an unwanted state </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>

        <span class="n">LogWaiter</span><span class="o">.</span><span class="n">search_container_logs</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_waiter</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="p">:</span>
            <span class="n">mapped_http_port</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
            <span class="n">mapped_http_port</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="o">.</span><span class="n">http_port</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_exposed_port</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
                <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="o">.</span><span class="n">http_port</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">EndpointWaiters</span><span class="o">.</span><span class="n">wait_for_http</span><span class="p">(</span>
                <span class="n">docker_client</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">(),</span>  <span class="c1"># type: ignore</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="p">,</span>
                <span class="n">mapped_http_port</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop a running container</span>
<span class="sd">        Args:</span>
<span class="sd">            force (bool, optional): [description]. Defaults to True.</span>
<span class="sd">            delete_volume (bool, optional): [description]. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="n">delete_volume</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">APIError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reload the attributes of a running container&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">is_container_still_running</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container_attr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">attrs</span>  <span class="c1"># type: ignore</span>

    <span class="k">def</span> <span class="nf">get_exposed_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get host port bound to the container exposed port</span>

<span class="sd">        Args:</span>
<span class="sd">            port (str): container exposed port</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: Host port bound to the container exposed port</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">port</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mapped_container_ports</span><span class="p">([</span><span class="n">port</span><span class="p">])[</span><span class="n">port</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_mapped_container_ports</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Host port bound to the container returned as a k/v of the</span>
<span class="sd">        container exposed port as key and the host bound port as the value.</span>

<span class="sd">        Args:</span>
<span class="sd">            ports (List[str]): List of container exposed port to be mapped to host port</span>

<span class="sd">        Returns:</span>
<span class="sd">            Dict[str, str]: Mapped container-host ports.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mapped_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container_attr</span><span class="o">.</span><span class="n">NetworkSettings</span><span class="o">.</span><span class="n">Ports</span>
        <span class="k">for</span> <span class="n">port</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
            <span class="n">container_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;[^0-9]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">container_port</span> <span class="ow">in</span> <span class="n">exposed_ports</span> <span class="ow">and</span> <span class="n">ports</span><span class="p">[</span><span class="n">port</span><span class="p">]</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">ports</span><span class="p">[</span><span class="n">port</span><span class="p">],</span> <span class="nb">list</span><span class="p">):</span>
                <span class="n">host_ports</span><span class="p">:</span> <span class="n">ContainerMappedPorts</span> <span class="o">=</span> <span class="n">ContainerMappedPorts</span><span class="p">(</span><span class="o">**</span><span class="p">(</span><span class="n">ports</span><span class="p">[</span><span class="n">port</span><span class="p">][</span><span class="mi">0</span><span class="p">]))</span>
                <span class="n">mapped_ports</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">container_port</span><span class="p">:</span> <span class="n">host_ports</span><span class="o">.</span><span class="n">HostPort</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">mapped_ports</span>

    <span class="k">def</span> <span class="nf">get_container_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Container id</span>

<span class="sd">        Returns:</span>
<span class="sd">            Optional[str]: Container Id</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">id</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_container_host_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Container Host IP address</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: container host IP Address</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">exe_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">ByteString</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Execute a command inside a container after it has started running.</span>

<span class="sd">        Args:</span>
<span class="sd">            command (Union[str, List[str]]): command to run in the container</span>

<span class="sd">        Raises:</span>
<span class="sd">            RuntimeError: when the container object is not set</span>

<span class="sd">        Returns:</span>
<span class="sd">            Tuple[int, ByteString]: A tuple of (exit_code, output)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Container must already be running to exec a command&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">exec_run</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.generic_container.GenericContainer.container" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container</span><span class="p">:</span> <span class="n">Container</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.generic_container.GenericContainer.container_attr" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container_attr</span><span class="p">:</span> <span class="n">RunningContainerAttributes</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Running container attributes</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>RunningContainerAttributes</code></td>
      <td><p>Container attribute object</p></td>
    </tr>
  </tbody>
</table>    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.generic_container.GenericContainer.container_label" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container_label</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.containers.generic_container.GenericContainer.container_network" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container_network</span><span class="p">:</span> <span class="n">ContainerNetwork</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.check_container_health" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">check_container_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">check_container_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">120</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">timeout</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Waiting for containe:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> status to </span><span class="se">\</span>
<span class="s2">            change from </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2"> to </span><span class="si">{</span><span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> status changed to </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">break</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span> <span class="o">!=</span> <span class="n">PossibleContainerStates</span><span class="o">.</span><span class="n">RUNNING</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">(</span><span class="n">stream</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Container is in an unwanted state </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>

    <span class="n">LogWaiter</span><span class="o">.</span><span class="n">search_container_logs</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_waiter</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">())</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="p">:</span>
        <span class="n">mapped_http_port</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="n">mapped_http_port</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="o">.</span><span class="n">http_port</span><span class="p">)]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_exposed_port</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
            <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="o">.</span><span class="n">http_port</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">EndpointWaiters</span><span class="o">.</span><span class="n">wait_for_http</span><span class="p">(</span>
            <span class="n">docker_client</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_container_id</span><span class="p">(),</span>  <span class="c1"># type: ignore</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">http_waiter</span><span class="p">,</span>
            <span class="n">mapped_http_port</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.exe_command" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">exe_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">ByteString</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Execute a command inside a container after it has started running.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>command</code></td>
        <td><code>Union[str, List[str]]</code></td>
        <td><p>command to run in the container</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>RuntimeError</code></td>
        <td><p>when the container object is not set</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[int, ByteString]</code></td>
      <td><p>A tuple of (exit_code, output)</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">exe_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">command</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">ByteString</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Execute a command inside a container after it has started running.</span>

<span class="sd">    Args:</span>
<span class="sd">        command (Union[str, List[str]]): command to run in the container</span>

<span class="sd">    Raises:</span>
<span class="sd">        RuntimeError: when the container object is not set</span>

<span class="sd">    Returns:</span>
<span class="sd">        Tuple[int, ByteString]: A tuple of (exit_code, output)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Container must already be running to exec a command&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">exec_run</span><span class="p">(</span><span class="n">cmd</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.get_container_host_ip" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_container_host_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Container Host IP address</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>container host IP Address</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_container_host_ip</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Container Host IP address</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: container host IP Address</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.get_container_id" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_container_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Container id</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Optional[str]</code></td>
      <td><p>Container Id</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_container_id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Container id</span>

<span class="sd">    Returns:</span>
<span class="sd">        Optional[str]: Container Id</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">id</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.get_exposed_port" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">get_exposed_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Get host port bound to the container exposed port</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>port</code></td>
        <td><code>str</code></td>
        <td><p>container exposed port</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Host port bound to the container exposed port</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">get_exposed_port</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get host port bound to the container exposed port</span>

<span class="sd">    Args:</span>
<span class="sd">        port (str): container exposed port</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Host port bound to the container exposed port</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">port</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_mapped_container_ports</span><span class="p">([</span><span class="n">port</span><span class="p">])[</span><span class="n">port</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.reload" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Reload the attributes of a running container</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">reload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reload the attributes of a running container&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">is_container_still_running</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container_attr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">attrs</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.start" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Start a container</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Container</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Start a container&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">ping</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Docker Client not Running. Please check your docker settings and try again&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">image</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span>
        <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">,</span>
        <span class="n">detach</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">environment</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">container_environment_variables</span><span class="p">,</span>
        <span class="n">ports</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">ports</span><span class="p">,</span>
        <span class="n">volumes</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">volumes</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">entry_point</span><span class="p">,</span>
        <span class="n">auto_remove</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">remove</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">network</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">network</span><span class="p">,</span>
        <span class="n">hostname</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">host_name</span><span class="p">,</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">container_label</span><span class="p">],</span>
    <span class="p">)</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.containers.generic_container.GenericContainer.stop" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">

      <p>Stop a running container</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>force</code></td>
        <td><code>bool</code></td>
        <td><p>[description]. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
      <tr>
        <td><code>delete_volume</code></td>
        <td><code>bool</code></td>
        <td><p>[description]. Defaults to True.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/containers/generic_container.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">delete_volume</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Stop a running container</span>
<span class="sd">    Args:</span>
<span class="sd">        force (bool, optional): [description]. Defaults to True.</span>
<span class="sd">        delete_volume (bool, optional): [description]. Defaults to True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">v</span><span class="o">=</span><span class="n">delete_volume</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">APIError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.container.supported_placeholders.SupportedPlaceholders" class="doc doc-heading">
        <code>
testcompose.models.container.supported_placeholders.SupportedPlaceholders        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass"><code>dataclass</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>SupportedPlaceholders(SELF_HOST: str = 'self', CONTAINER_HOSTNAME: str = 'container_hostname', EXTERNAL_PORT: str = 'external_port', CONTAINER_HOST_ADDRESS: str = 'container_host_address')</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/models/container/supported_placeholders.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">SupportedPlaceholders</span><span class="p">:</span>
    <span class="n">SELF_HOST</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;self&#39;</span>
    <span class="n">CONTAINER_HOSTNAME</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;container_hostname&#39;</span>
    <span class="n">EXTERNAL_PORT</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;external_port&#39;</span>
    <span class="n">CONTAINER_HOST_ADDRESS</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;container_host_address&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOSTNAME" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">CONTAINER_HOSTNAME</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.supported_placeholders.SupportedPlaceholders.CONTAINER_HOST_ADDRESS" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">CONTAINER_HOST_ADDRESS</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.supported_placeholders.SupportedPlaceholders.EXTERNAL_PORT" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">EXTERNAL_PORT</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.supported_placeholders.SupportedPlaceholders.SELF_HOST" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">SELF_HOST</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.client.client_login.ClientFromEnv" class="doc doc-heading">
        <code>
testcompose.models.client.client_login.ClientFromEnv            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ClientFromEnv</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">use_ssh_client</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">ssl_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">assert_hostname</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">environment</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>
    <span class="n">max_pool_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_version</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_timeout</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;max_pool_size&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_max_pool_size</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.assert_hostname" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">assert_hostname</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.environment" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.max_pool_size" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">max_pool_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.ssl_version" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">ssl_version</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.timeout" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.use_ssh_client" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_ssh_client</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.version" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.validate_max_pool_size" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_max_pool_size</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;max_pool_size&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_max_pool_size</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.validate_timeout" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_timeout</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_timeout</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromEnv.validate_version" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_version</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_version</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.client.client_login.ClientFromUrl" class="doc doc-heading">
        <code>
testcompose.models.client.client_login.ClientFromUrl            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ClientFromUrl</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">docker_host</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">tls</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">user_agent</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">credstor_env</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">use_ssh_client</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>
    <span class="n">max_pool_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;auto&quot;</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_version</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_timeout</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;max_pool_size&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_max_pool_size</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.credstor_env" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">credstor_env</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.docker_host" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">docker_host</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.max_pool_size" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">max_pool_size</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.timeout" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">timeout</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.tls" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">tls</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.use_ssh_client" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_ssh_client</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.user_agent" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">user_agent</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.version" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">version</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.validate_max_pool_size" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_max_pool_size</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;max_pool_size&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_max_pool_size</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_MAX_POOL_SIZE</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.validate_timeout" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_timeout</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_timeout</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="n">DEFAULT_TIMEOUT_SECONDS</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.client.client_login.ClientFromUrl.validate_version" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_version</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/client_login.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_version</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">v</span> <span class="ow">or</span> <span class="s2">&quot;auto&quot;</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.client.registry_parameters.Login" class="doc doc-heading">
        <code>
testcompose.models.client.registry_parameters.Login            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/client/registry_parameters.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">Login</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">username</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">password</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">registry</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">reauth</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">dockercfg_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.dockercfg_path" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">dockercfg_path</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.email" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">email</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.password" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">password</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.reauth" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">reauth</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.registry" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">registry</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.client.registry_parameters.Login.username" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">username</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_service.ContainerService" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_service.ContainerService            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_service.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerService</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">command</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">depends_on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">volumes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ContainerVolumeMap</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">log_wait_parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ContainerLogWaitParameter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">http_wait_parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ContainerHttpWaitParameter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">https_wait_parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ContainerHttpWaitParameter</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_service_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Container Service name is required&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_image</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valid image name is required&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.command" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">command</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.depends_on" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">depends_on</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.entrypoint" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">entrypoint</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.environment" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">environment</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.exposed_ports" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">exposed_ports</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.http_wait_parameters" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">http_wait_parameters</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.https_wait_parameters" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">https_wait_parameters</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.image" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">image</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.log_wait_parameters" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">log_wait_parameters</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.volumes" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">volumes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">testcompose</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">bootstrap</span><span class="o">.</span><span class="n">container_volume</span><span class="o">.</span><span class="n">ContainerVolumeMap</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.validate_image" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_image</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_service.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_image</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valid image name is required&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_service.ContainerService.validate_service_name" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_service_name</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_service.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_service_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Container Service name is required&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_service.ContainerServices" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_service.ContainerServices            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>ConfigServices holds Dict of Service and their names</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>services</code></td>
        <td></td>
        <td><p>Dict[name, Service]</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_service.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerServices</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    ConfigServices holds Dict of Service and their names</span>
<span class="sd">    Args:</span>
<span class="sd">        services: Dict[name, Service]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">ContainerService</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.ContainerServices.services" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">testcompose</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">bootstrap</span><span class="o">.</span><span class="n">container_service</span><span class="o">.</span><span class="n">ContainerService</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_service.RankedContainerServices" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_service.RankedContainerServices            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>RankedConfigServices holds a dict of services ranked in the order they are to
be started.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ranked_services</code></td>
        <td></td>
        <td><p>Dict[rank, name]</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_service.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">RankedContainerServices</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    RankedConfigServices holds a dict of services ranked in the order they are to</span>
<span class="sd">    be started.</span>
<span class="sd">    Args:</span>
<span class="sd">        ranked_services: Dict[rank, name]</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ranked_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_service.RankedContainerServices.ranked_services" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">ranked_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_http_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerHttpWaitParameter</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">http_port</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">response_status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="n">startup_delay_time_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20000</span>
    <span class="n">end_point</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span>
    <span class="n">use_https</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;http_port&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_http_port</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Integer exposed Http port must be provided&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;end_point&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_end_point</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Http endpoint must be provided&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;response_status_code&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_response_status_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Integer Http response code must be provided&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;startup_delay_time_ms&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_startup_delay_time_ms</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">20000</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.end_point" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">end_point</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.http_port" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">http_port</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.response_status_code" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">response_status_code</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.startup_delay_time_ms" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">startup_delay_time_ms</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.use_https" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">use_https</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_end_point" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_end_point</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_http_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;end_point&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_end_point</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Http endpoint must be provided&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_http_port" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_http_port</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_http_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;http_port&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_http_port</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Integer exposed Http port must be provided&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_response_status_code" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_response_status_code</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_http_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;response_status_code&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_response_status_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;A valide Integer Http response code must be provided&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_http_wait_parameter.ContainerHttpWaitParameter.validate_startup_delay_time_ms" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_startup_delay_time_ms</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_http_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;startup_delay_time_ms&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_startup_delay_time_ms</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">20000</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_log_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerLogWaitParameter</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">log_line_regex</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">wait_timeout_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60000</span>
    <span class="n">poll_interval_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10000</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;log_line_regex&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_log_line_regex</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;log_line_prefix must be set&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.log_line_regex" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">log_line_regex</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.poll_interval_ms" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">poll_interval_ms</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.wait_timeout_ms" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">wait_timeout_ms</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_log_wait_parameter.ContainerLogWaitParameter.validate_log_line_regex" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_log_line_regex</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_log_wait_parameter.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;log_line_regex&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_log_line_regex</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;log_line_prefix must be set&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_volume.VolumeSourceTypes" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_volume.VolumeSourceTypes        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass"><code>dataclass</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>VolumeSourceTypes(FILESYSTEM_SOURCE: str = 'filesystem', DOCKER_VOLUME_SOURCE: str = 'dockervolume')</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">VolumeSourceTypes</span><span class="p">:</span>
    <span class="n">FILESYSTEM_SOURCE</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;filesystem&quot;</span>
    <span class="n">DOCKER_VOLUME_SOURCE</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dockervolume&quot;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.VolumeSourceTypes.DOCKER_VOLUME_SOURCE" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">DOCKER_VOLUME_SOURCE</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.VolumeSourceTypes.FILESYSTEM_SOURCE" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">FILESYSTEM_SOURCE</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap" class="doc doc-heading">
        <code>
testcompose.models.bootstrap.container_volume.ContainerVolumeMap            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerVolumeMap</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">container</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;ro&#39;</span>
    <span class="n">source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">VolumeSourceTypes</span><span class="o">.</span><span class="n">DOCKER_VOLUME_SOURCE</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_mode</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="s1">&#39;rw&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;filesystem&#39;</span><span class="p">,</span> <span class="s1">&#39;dockervolume&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;host&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_host</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Volume Host option can not be empty or None&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>

    <span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">validate_container</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Volume container option can not be empty or None&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.container" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">container</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.host" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">host</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.mode" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">mode</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.source" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">source</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_container" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_container</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_container</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Volume container option can not be empty or None&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_host" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_host</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;host&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_host</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;Volume Host option can not be empty or None&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_mode" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_mode</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_mode</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="s1">&#39;rw&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.models.bootstrap.container_volume.ContainerVolumeMap.validate_source" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">validate_source</span><span class="p">(</span><span class="n">v</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-classmethod"><code>classmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/bootstrap/container_volume.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@validator</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">validate_source</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;filesystem&#39;</span><span class="p">,</span> <span class="s1">&#39;dockervolume&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">v</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.container.running_container_attributes.PossibleContainerStates" class="doc doc-heading">
        <code>
testcompose.models.container.running_container_attributes.PossibleContainerStates        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass"><code>dataclass</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>PossibleContainerStates(RUNNING: str = 'running', EXITED: str = 'exited')</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/models/container/running_container_attributes.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">PossibleContainerStates</span><span class="p">:</span>
    <span class="n">RUNNING</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;running&#39;</span>
    <span class="n">EXITED</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;exited&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.PossibleContainerStates.EXITED" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">EXITED</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.PossibleContainerStates.RUNNING" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">RUNNING</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass-field"><code>dataclass-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.container.running_container_attributes.ContainerState" class="doc doc-heading">
        <code>
testcompose.models.container.running_container_attributes.ContainerState            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/container/running_container_attributes.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerState</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">Status</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">Running</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">Paused</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">Restarting</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">OOMKilled</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">Dead</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">Pid</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">ExitCode</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">Error</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">StartedAt</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">FinishedAt</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Dead" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Dead</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Error" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Error</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.ExitCode" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">ExitCode</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.FinishedAt" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">FinishedAt</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.OOMKilled" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">OOMKilled</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Paused" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Paused</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Pid" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Pid</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Restarting" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Restarting</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Running" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Running</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.StartedAt" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">StartedAt</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.ContainerState.Status" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Status</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.container.running_container_attributes.RunningContainerAttributes" class="doc doc-heading">
        <code>
testcompose.models.container.running_container_attributes.RunningContainerAttributes            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/container/running_container_attributes.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">RunningContainerAttributes</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">Id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">State</span><span class="p">:</span> <span class="n">ContainerState</span>
    <span class="n">Platform</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">NetworkSettings</span><span class="p">:</span> <span class="n">ContainerNetworkSettings</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.RunningContainerAttributes.Id" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Id</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.RunningContainerAttributes.NetworkSettings" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">NetworkSettings</span><span class="p">:</span> <span class="n">ContainerNetworkSettings</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.RunningContainerAttributes.Platform" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Platform</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.container.running_container_attributes.RunningContainerAttributes.State" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">State</span><span class="p">:</span> <span class="n">ContainerState</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.network.network.NetworkComponents" class="doc doc-heading">
        <code>
testcompose.models.network.network.NetworkComponents            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/network/network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">NetworkComponents</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">Aliases</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">NetworkID</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">EndpointID</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">Gateway</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">IPAddress</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.NetworkComponents.Aliases" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Aliases</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.NetworkComponents.EndpointID" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">EndpointID</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.NetworkComponents.Gateway" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Gateway</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.NetworkComponents.IPAddress" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">IPAddress</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.NetworkComponents.NetworkID" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">NetworkID</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.network.network.ContainerMappedPorts" class="doc doc-heading">
        <code>
testcompose.models.network.network.ContainerMappedPorts            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/network/network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerMappedPorts</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">HostIp</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">HostPort</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.ContainerMappedPorts.HostIp" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">HostIp</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.ContainerMappedPorts.HostPort" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">HostPort</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.network.network.ContainerNetworkSettings" class="doc doc-heading">
        <code>
testcompose.models.network.network.ContainerNetworkSettings            (<span title="pydantic.main.BaseModel">BaseModel</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/models/network/network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">ContainerNetworkSettings</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">Ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="n">Networks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NetworkComponents</span><span class="p">]</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.ContainerNetworkSettings.Networks" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Networks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">testcompose</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">network</span><span class="o">.</span><span class="n">NetworkComponents</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.ContainerNetworkSettings.Ports" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">Ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.models.network.network.DefaultNeworkDrivers" class="doc doc-heading">
        <code>
testcompose.models.network.network.DefaultNeworkDrivers        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-dataclass"><code>dataclass</code></small>
  </span>

</h2>

    <div class="doc doc-contents first">

      <p>DefaultNeworkDrivers()</p>

        <details class="quote">
          <summary>Source code in <code>testcompose/models/network/network.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">DefaultNeworkDrivers</span><span class="p">:</span>
    <span class="n">DEFAULT_BRIDGE_NETWORK</span> <span class="o">=</span> <span class="s1">&#39;bridge&#39;</span>
    <span class="n">DEFAULT_HOST_NETWORK</span> <span class="o">=</span> <span class="s1">&#39;host&#39;</span>
    <span class="n">DEFAULT_NULL_NETWORK</span> <span class="o">=</span> <span class="s1">&#39;null&#39;</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_BRIDGE_NETWORK" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">DEFAULT_BRIDGE_NETWORK</span></code>


</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_HOST_NETWORK" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">DEFAULT_HOST_NETWORK</span></code>


</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.models.network.network.DefaultNeworkDrivers.DEFAULT_NULL_NETWORK" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">DEFAULT_NULL_NETWORK</span></code>


</h3>

    <div class="doc doc-contents ">

    </div>

  </div>








  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.waiters.endpoint_waiters.EndpointWaiters" class="doc doc-heading">
        <code>
testcompose.waiters.endpoint_waiters.EndpointWaiters        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/waiters/endpoint_waiters.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">EndpointWaiters</span><span class="p">:</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_get_container_host_ip</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The host IP where the container runs</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: host IP</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostbyname</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_check_endpoint</span><span class="p">(</span>
        <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span>
        <span class="n">container_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">wait_parameter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">,</span>
        <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Endpoint health-check for a container. A running service</span>
<span class="sd">        with an exposed endpoint is queried and the response code is</span>
<span class="sd">        checked with the expected response code.</span>

<span class="sd">        Args:</span>
<span class="sd">            http_port (str): container service port</span>
<span class="sd">            status_code (int, optional): Defaults to 200.</span>
<span class="sd">            end_point (str, optional): Provided service endpoint. Defaults to &quot;/&quot;.</span>
<span class="sd">            server_startup_time (int, optional): Expected wait time for the service to start. Defaults to 20.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Endpoint returned expected status code</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">response_check</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
            <span class="n">sleep</span><span class="p">(</span><span class="n">wait_parameter</span><span class="o">.</span><span class="n">startup_delay_time_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_container_still_running</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">):</span>
                <span class="n">response_check</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="k">break</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">EndpointWaiters</span><span class="o">.</span><span class="n">_get_container_host_ip</span><span class="p">()</span>
                <span class="n">mapped_port</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">exposed_ports</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">wait_parameter</span><span class="o">.</span><span class="n">http_port</span><span class="p">)]</span>
                <span class="n">scheme</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;https://&quot;</span> <span class="k">if</span> <span class="n">wait_parameter</span><span class="o">.</span><span class="n">use_https</span> <span class="k">else</span> <span class="s2">&quot;http://&quot;</span>
                <span class="n">site_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">scheme</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">mapped_port</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">wait_parameter</span><span class="o">.</span><span class="n">end_point</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">response</span><span class="p">:</span> <span class="n">Response</span> <span class="o">=</span> <span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">site_url</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">wait_parameter</span><span class="o">.</span><span class="n">response_status_code</span><span class="p">:</span>
                    <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">response_check</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;HTTP_CHECK_ERROR: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">exc</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">response_check</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Http check on port </span><span class="si">{</span><span class="n">wait_parameter</span><span class="o">.</span><span class="n">http_port</span><span class="si">}</span><span class="s2"> failed&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">wait_for_http</span><span class="p">(</span>
        <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span>
        <span class="n">container_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">wait_parameter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">,</span>
        <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">wait_parameter</span><span class="p">:</span>
            <span class="n">EndpointWaiters</span><span class="o">.</span><span class="n">_check_endpoint</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">,</span> <span class="n">wait_parameter</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="testcompose.waiters.endpoint_waiters.EndpointWaiters.wait_for_http" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">wait_for_http</span><span class="p">(</span><span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">container_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">wait_parameter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/waiters/endpoint_waiters.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">wait_for_http</span><span class="p">(</span>
    <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span>
    <span class="n">container_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">wait_parameter</span><span class="p">:</span> <span class="n">ContainerHttpWaitParameter</span><span class="p">,</span>
    <span class="n">exposed_ports</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">wait_parameter</span><span class="p">:</span>
        <span class="n">EndpointWaiters</span><span class="o">.</span><span class="n">_check_endpoint</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container_id</span><span class="p">,</span> <span class="n">wait_parameter</span><span class="p">,</span> <span class="n">exposed_ports</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.waiters.log_waiters.LogWaiter" class="doc doc-heading">
        <code>
testcompose.waiters.log_waiters.LogWaiter        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/waiters/log_waiters.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">LogWaiter</span><span class="p">:</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">search_container_logs</span><span class="p">(</span>
        <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">Container</span><span class="p">,</span> <span class="n">log_parameter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Search for a given predicate in the container log. Useful to check if a</span>
<span class="sd">        container is running and healthy</span>

<span class="sd">        Args:</span>
<span class="sd">            search_string (str): predicate to search in the log</span>
<span class="sd">            timeout (float, optional): Defaults to 300.0.</span>
<span class="sd">            interval (int, optional): Defaults to 1.</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: if a non string predicate is passed</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the log contains the provided predicate</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">log_parameter</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">log_line_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

        <span class="n">prog</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">log_line_regex</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span><span class="o">.</span><span class="n">search</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Match</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_container_still_running</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
                <span class="k">return</span>
            <span class="n">output</span> <span class="o">=</span> <span class="n">prog</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span>
                    <span class="s2">&quot;container </span><span class="si">%s</span><span class="s2"> did not emit logs satisfying predicate in </span><span class="si">%.3f</span><span class="s2"> seconds&quot;</span>
                    <span class="o">%</span> <span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="ow">or</span> <span class="mi">60000</span><span class="p">))</span>
                <span class="p">)</span>
            <span class="n">sleep</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">poll_interval_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="testcompose.waiters.log_waiters.LogWaiter.search_container_logs" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">search_container_logs</span><span class="p">(</span><span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">Container</span><span class="p">,</span> <span class="n">log_parameter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Search for a given predicate in the container log. Useful to check if a
container is running and healthy</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>search_string</code></td>
        <td><code>str</code></td>
        <td><p>predicate to search in the log</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>Defaults to 300.0.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>interval</code></td>
        <td><code>int</code></td>
        <td><p>Defaults to 1.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Exceptions:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>ValueError</code></td>
        <td><p>if a non string predicate is passed</p></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>True if the log contains the provided predicate</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>testcompose/waiters/log_waiters.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">search_container_logs</span><span class="p">(</span>
    <span class="n">docker_client</span><span class="p">:</span> <span class="n">DockerClient</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="n">Container</span><span class="p">,</span> <span class="n">log_parameter</span><span class="p">:</span> <span class="n">ContainerLogWaitParameter</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Search for a given predicate in the container log. Useful to check if a</span>
<span class="sd">    container is running and healthy</span>

<span class="sd">    Args:</span>
<span class="sd">        search_string (str): predicate to search in the log</span>
<span class="sd">        timeout (float, optional): Defaults to 300.0.</span>
<span class="sd">        interval (int, optional): Defaults to 1.</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: if a non string predicate is passed</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the log contains the provided predicate</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">log_parameter</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">log_line_regex</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>

    <span class="n">prog</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">log_line_regex</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">MULTILINE</span><span class="p">)</span><span class="o">.</span><span class="n">search</span>
    <span class="n">start</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">output</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Match</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_container_still_running</span><span class="p">(</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">container</span><span class="o">.</span><span class="n">id</span><span class="p">):</span>  <span class="c1"># type: ignore</span>
            <span class="k">return</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">prog</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">output</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span>
                <span class="s2">&quot;container </span><span class="si">%s</span><span class="s2"> did not emit logs satisfying predicate in </span><span class="si">%.3f</span><span class="s2"> seconds&quot;</span>
                <span class="o">%</span> <span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">float</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="ow">or</span> <span class="mi">60000</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="n">log_parameter</span><span class="o">.</span><span class="n">poll_interval_ms</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">logs</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">())</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="testcompose.run_containers.RunContainers" class="doc doc-heading">
        <code>
testcompose.run_containers.RunContainers            (<a class="autorefs autorefs-internal" title="testcompose.client.base_docker_client.BaseDockerClient" href="#testcompose.client.base_docker_client.BaseDockerClient">BaseDockerClient</a>)
        </code>



</h2>

    <div class="doc doc-contents first">


        <details class="quote">
          <summary>Source code in <code>testcompose/run_containers.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">class</span> <span class="nc">RunContainers</span><span class="p">(</span><span class="n">BaseDockerClient</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init_subclass__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">cls</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">RunContainers</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;The class RunContainers can not be extended&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__init_subclass__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config_services</span><span class="p">:</span> <span class="n">ContainerServices</span><span class="p">,</span>
        <span class="n">ranked_services</span><span class="p">:</span> <span class="n">RankedContainerServices</span><span class="p">,</span>
        <span class="n">registry_login_param</span><span class="o">=</span><span class="n">Login</span><span class="p">(),</span>
        <span class="n">env_param</span><span class="p">:</span> <span class="n">ClientFromEnv</span> <span class="o">=</span> <span class="n">ClientFromEnv</span><span class="p">(),</span>
        <span class="n">url_param</span><span class="p">:</span> <span class="n">ClientFromUrl</span> <span class="o">=</span> <span class="n">ClientFromUrl</span><span class="p">(),</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">RunContainers</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">client_env_param</span><span class="o">=</span><span class="n">env_param</span><span class="p">,</span> <span class="n">client_url_param</span><span class="o">=</span><span class="n">url_param</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_config_services</span><span class="p">:</span> <span class="n">ContainerServices</span> <span class="o">=</span> <span class="n">config_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ranked_config_services</span><span class="p">:</span> <span class="n">RankedContainerServices</span> <span class="o">=</span> <span class="n">ranked_services</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running_containers</span> <span class="o">=</span> <span class="n">RunningContainers</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">registry_login</span><span class="p">(</span><span class="n">login_credentials</span><span class="o">=</span><span class="n">registry_login_param</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">running_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainers</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_running_containers</span>

    <span class="nd">@running_containers</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">running_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">containers</span><span class="p">:</span> <span class="n">RunningContainers</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running_containers</span><span class="p">:</span> <span class="n">RunningContainers</span> <span class="o">=</span> <span class="n">containers</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">unique_container_label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unique_container_label</span>

    <span class="nd">@unique_container_label</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">unique_container_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unique_container_label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">label</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainers</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_containers</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_running_containers</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">RunningContainers</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_running_containers</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">exc_tb</span> <span class="ow">and</span> <span class="n">exc_type</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">[</span><span class="si">%s</span><span class="s2">]: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_tb</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">exc</span><span class="o">.</span><span class="n">with_traceback</span><span class="p">(</span><span class="kc">None</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">run_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainers</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span>
        <span class="n">network_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span><span class="si">}</span><span class="s2">_network&quot;</span>
        <span class="n">processed_containers_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;label=</span><span class="si">{</span><span class="n">network_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ranked_config_services</span><span class="o">.</span><span class="n">ranked_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">service</span><span class="p">:</span> <span class="n">ContainerService</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_services</span><span class="o">.</span><span class="n">services</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_ranked_config_services</span><span class="o">.</span><span class="n">ranked_services</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span>
            <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pull_docker_image</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
            <span class="n">generic_container</span><span class="p">:</span> <span class="n">GenericContainer</span> <span class="o">=</span> <span class="n">GenericContainer</span><span class="p">()</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">container_network</span> <span class="o">=</span> <span class="n">ContainerNetwork</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">network_name</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">network_name</span><span class="p">}</span>
            <span class="p">)</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">with_service</span><span class="p">(</span>
                <span class="n">service</span><span class="p">,</span>
                <span class="n">processed_containers_services</span><span class="p">,</span>
                <span class="n">generic_container</span><span class="o">.</span><span class="n">container_network</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
            <span class="p">)</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">container_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">generic_container</span><span class="o">.</span><span class="n">container_label</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">log_wait_timeout</span> <span class="o">=</span> <span class="mi">120</span>
                <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span><span class="p">:</span>
                    <span class="n">log_wait_timeout</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="ow">or</span> <span class="mi">120000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
                <span class="n">generic_container</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">generic_container</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">)</span>
                <span class="n">generic_container</span><span class="o">.</span><span class="n">check_container_health</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">log_wait_timeout</span><span class="p">)</span>
                <span class="n">running_container</span><span class="p">:</span> <span class="n">RunningContainer</span> <span class="o">=</span> <span class="n">RunningContainer</span><span class="p">(</span>
                    <span class="n">service_name</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">config_environment_variables</span><span class="o">=</span><span class="n">generic_container</span><span class="o">.</span><span class="n">container_environment_variables</span><span class="p">,</span>
                    <span class="n">generic_container</span><span class="o">=</span><span class="n">generic_container</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="n">processed_containers_services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">running_container</span><span class="p">})</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">stop_running_containers</span><span class="p">()</span>
                <span class="k">raise</span> <span class="n">APIError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The following containers were started: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">processed_containers_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running_containers</span> <span class="o">=</span> <span class="n">RunningContainers</span><span class="p">(</span><span class="n">running_containers</span><span class="o">=</span><span class="n">processed_containers_services</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_containers</span>

    <span class="k">def</span> <span class="nf">stop_running_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">Housekeeping</span><span class="o">.</span><span class="n">perform_housekeeping</span><span class="p">(</span>
            <span class="n">docker_client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span>
        <span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.run_containers.RunContainers.running_containers" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">running_containers</span><span class="p">:</span> <span class="n">RunningContainers</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 id="testcompose.run_containers.RunContainers.unique_container_label" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">unique_container_label</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-writable"><code>writable</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 id="testcompose.run_containers.RunContainers.run_containers" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">run_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainers</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/run_containers.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">run_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RunningContainers</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span>
    <span class="n">network_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span><span class="si">}</span><span class="s2">_network&quot;</span>
    <span class="n">processed_containers_services</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunningContainer</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;label=</span><span class="si">{</span><span class="n">network_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ranked_config_services</span><span class="o">.</span><span class="n">ranked_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="n">service</span><span class="p">:</span> <span class="n">ContainerService</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_config_services</span><span class="o">.</span><span class="n">services</span><span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ranked_config_services</span><span class="o">.</span><span class="n">ranked_services</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pull_docker_image</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">image</span><span class="p">)</span>
        <span class="n">generic_container</span><span class="p">:</span> <span class="n">GenericContainer</span> <span class="o">=</span> <span class="n">GenericContainer</span><span class="p">()</span>
        <span class="n">generic_container</span><span class="o">.</span><span class="n">container_network</span> <span class="o">=</span> <span class="n">ContainerNetwork</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">network_name</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="n">network_name</span><span class="p">}</span>
        <span class="p">)</span>
        <span class="n">generic_container</span><span class="o">.</span><span class="n">with_service</span><span class="p">(</span>
            <span class="n">service</span><span class="p">,</span>
            <span class="n">processed_containers_services</span><span class="p">,</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">container_network</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
        <span class="p">)</span>
        <span class="n">generic_container</span><span class="o">.</span><span class="n">container_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_container_label</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">generic_container</span><span class="o">.</span><span class="n">container_label</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">log_wait_timeout</span> <span class="o">=</span> <span class="mi">120</span>
            <span class="k">if</span> <span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span><span class="p">:</span>
                <span class="n">log_wait_timeout</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">service</span><span class="o">.</span><span class="n">log_wait_parameters</span><span class="o">.</span><span class="n">wait_timeout_ms</span> <span class="ow">or</span> <span class="mi">120000</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">)</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">generic_container</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">)</span>
            <span class="n">generic_container</span><span class="o">.</span><span class="n">check_container_health</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">log_wait_timeout</span><span class="p">)</span>
            <span class="n">running_container</span><span class="p">:</span> <span class="n">RunningContainer</span> <span class="o">=</span> <span class="n">RunningContainer</span><span class="p">(</span>
                <span class="n">service_name</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                <span class="n">config_environment_variables</span><span class="o">=</span><span class="n">generic_container</span><span class="o">.</span><span class="n">container_environment_variables</span><span class="p">,</span>
                <span class="n">generic_container</span><span class="o">=</span><span class="n">generic_container</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">processed_containers_services</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">service</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">running_container</span><span class="p">})</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">stop_running_containers</span><span class="p">()</span>
            <span class="k">raise</span> <span class="n">APIError</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;The following containers were started: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">processed_containers_services</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running_containers</span> <span class="o">=</span> <span class="n">RunningContainers</span><span class="p">(</span><span class="n">running_containers</span><span class="o">=</span><span class="n">processed_containers_services</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">running_containers</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="testcompose.run_containers.RunContainers.stop_running_containers" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">stop_running_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>


</h3>

    <div class="doc doc-contents ">


        <details class="quote">
          <summary>Source code in <code>testcompose/run_containers.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">stop_running_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">Housekeeping</span><span class="o">.</span><span class="n">perform_housekeeping</span><span class="p">(</span>
        <span class="n">docker_client</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_running_container_labels</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fc8c2696.min.js"></script>
      
    
  </body>
</html>